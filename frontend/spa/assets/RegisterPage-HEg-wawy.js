import{Q as n}from"./QInput-c1ZgeY1b.js";import{r as l,J as b,M as V,N as d,a2 as x,O as R,V as r,R as a,T as q,S as p,U as Q,L as k,a4 as c}from"./index-CgK1ss-b.js";import{Q as N}from"./QForm-CXM5rvQk.js";import{Q as P}from"./QPage-CMn3O1sP.js";import{u as B}from"./auth-oFsSJgPH.js";import"./use-dark-zJL703uH.js";const U={class:"auth-container q-pa-lg q-pa-md-md q-pa-sm-lg shadow-3 rounded-borders"},A={class:"q-mt-md text-center column items-center"},C={class:"q-mb-xs"},z={__name:"RegisterPage",setup(M){const g=B(),m=R(),o=l(""),i=l(""),u=l(""),f=s=>s?.trim().length>=2||"Password must have at least 2 characters",v=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||"Email not valid",h=s=>s?.trim().length>=4||"Password must have at least 4 characters",y=l(null);async function w(){try{await g.register(o.value,i.value,u.value),m.push("/login"),c.create({type:"positive",message:"Please check email to verify account",position:"top-right",timeout:3e3})}catch(s){console.error("Register error:",s);const e=s.response?.data?.message||"Register failed";y.value=e,c.create({type:"negative",message:e,position:"top-right",timeout:3e3})}}return(s,e)=>(V(),b(P,{class:x(["flex flex-center",s.$q.dark.isActive?"bg-dark":"bg-grey-2"])},{default:d(()=>[r("div",U,[a(N,{onSubmit:q(w,["prevent"]),class:"column q-gutter-md"},{default:d(()=>[e[4]||(e[4]=r("div",{class:"text-h5 text-center text-primary q-mb-sm"},"Register",-1)),a(n,{filled:"",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),label:"Name",type:"name",rules:[f],class:"full-width"},null,8,["modelValue","rules"]),a(n,{filled:"",modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=t=>i.value=t),label:"Email",type:"email",rules:[v],class:"full-width"},null,8,["modelValue","rules"]),a(n,{filled:"",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),label:"Password",type:"password",rules:[h],class:"full-width"},null,8,["modelValue","rules"]),a(p,{label:"Register",type:"submit",color:"primary",class:"full-width q-py-sm"})]),_:1}),r("div",A,[r("div",C,[e[5]||(e[5]=Q(" Already have account? ",-1)),a(p,{flat:"",label:"Login here",color:"primary",onClick:e[3]||(e[3]=t=>k(m).push("/login")),class:"q-ml-xs",dense:""})])])])]),_:1},8,["class"]))}};export{z as default};
