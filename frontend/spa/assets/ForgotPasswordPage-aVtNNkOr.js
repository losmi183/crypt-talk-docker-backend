import{Q as f}from"./QInput-c1ZgeY1b.js";import{r,J as v,M as y,N as i,a2 as w,O as h,V as t,R as o,T as b,S as n,U as x,L as q,a4 as m}from"./index-CgK1ss-b.js";import{Q as k}from"./QForm-CXM5rvQk.js";import{Q}from"./QPage-CMn3O1sP.js";import{u as V}from"./auth-oFsSJgPH.js";import"./use-dark-zJL703uH.js";const _={class:"auth-container q-pa-lg q-pa-md-md q-pa-sm-lg shadow-3 rounded-borders"},F={class:"q-mt-md text-center column items-center"},P={class:"q-mb-xs"},$={__name:"ForgotPasswordPage",setup(N){const d=V(),u=h(),a=r("");r("");const c=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||"Email not valid",p=r(null);async function g(){try{await d.forgotPassword(a.value),m.create({type:"positive",message:"Please check email for password recovery",position:"top-right",timeout:3e3})}catch(s){console.error("Forgot password error:",s);const e=s.response?.data?.message||"Forgot password failed";p.value=e,m.create({type:"negative",message:e,position:"top-right",timeout:3e3})}}return(s,e)=>(y(),v(Q,{class:w(["flex flex-center",s.$q.dark.isActive?"bg-dark":"bg-grey-2"])},{default:i(()=>[t("div",_,[o(k,{onSubmit:b(g,["prevent"]),class:"column q-gutter-md"},{default:i(()=>[e[2]||(e[2]=t("div",{class:"text-h5 text-center text-primary q-mb-sm"},"Forgot password",-1)),o(f,{filled:"",modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:"Email",type:"email",rules:[c],class:"full-width"},null,8,["modelValue","rules"]),o(n,{label:"Send recovery link",type:"submit",color:"primary",class:"full-width q-py-sm"})]),_:1}),t("div",F,[t("div",P,[e[3]||(e[3]=x(" Already have account? ",-1)),o(n,{flat:"",label:"Login here",color:"primary",onClick:e[1]||(e[1]=l=>q(u).push("/login")),class:"q-ml-xs",dense:""})])])])]),_:1},8,["class"]))}};export{$ as default};
