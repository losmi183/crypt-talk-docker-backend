import{c as ue,a as A,h as J,b as ct,g as xe,r as X,i as Ur,o as Qe,d as it,n as Pn,e as Tt,l as wn,f as Dn,j as be,k as At,w as U,m as _o,p as Vr,q as So,s as Zt,t as rt,u as en,v as bt,x as _n,y as fr,z as tn,A as Co,B as To,C as Le,D as pr,E as Wr,F as ko,G as yt,H as Eo,I as Kr,P as gr,J as se,K as Ce,L as Re,M as Q,N as B,O as Io,Q as Ao,R as M,S as mr,T as xo,U as ae,V as Te,W as wt,X as he,Y as ke,Z as _t,_ as Ue,$ as Po,a0 as Ve,a1 as nn}from"./index-DiGRpTQJ.js";import{c as Do,u as Oo,a as Ro,b as Lo,d as No,e as Bo,f as Mo,s as $o,g as qo,h as Ho,i as jo,j as rn,Q as zo,k as We,l as ce,m as Fo,n as Ke}from"./use-prevent-scroll-DOrdtmm7.js";import{u as On,a as Rn}from"./use-dark-B6fjcQUg.js";import{Q as Uo}from"./QInput-B12sLSYf.js";import{b as St}from"./format-CJebrXOQ.js";import{u as Ln,a as Qr,b as kt}from"./auth-B3u5a7-D.js";const Vo=ue({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:n}){const s=A(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>J("div",{class:s.value},ct(n.default))}}),Wo={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},sn={xs:2,sm:4,md:8,lg:16,xl:24},Ct=ue({name:"QSeparator",props:{...On,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const n=xe(),s=Rn(e,n.proxy.$q),a=A(()=>e.vertical===!0?"vertical":"horizontal"),o=A(()=>` q-separator--${a.value}`),u=A(()=>e.inset!==!1?`${o.value}-${Wo[e.inset]}`:""),d=A(()=>`q-separator${o.value}${u.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(s.value===!0?" q-separator--dark":"")),m=A(()=>{const h={};if(e.size!==void 0&&(h[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const f=e.spaced===!0?`${sn.md}px`:e.spaced in sn?`${sn[e.spaced]}px`:e.spaced,g=e.vertical===!0?["Left","Right"]:["Top","Bottom"];h[`margin${g[0]}`]=h[`margin${g[1]}`]=f}return h});return()=>J("hr",{class:d.value,style:m.value,"aria-orientation":a.value})}}),Ko=["ul","ol"],vr=ue({name:"QList",props:{...On,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:n}){const s=xe(),a=Rn(e,s.proxy.$q),o=A(()=>Ko.includes(e.tag)?null:"list"),u=A(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>J(e.tag,{class:u.value,role:o.value},ct(n.default))}}),Qo=ue({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:n}){const s=A(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>J("div",{class:s.value,role:"toolbar"},ct(n.default))}});function Xo(){const e=X(!Ur.value);return e.value===!1&&Qe(()=>{e.value=!0}),{isHydrated:e}}const Xr=typeof ResizeObserver<"u",br=Xr===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Sn=ue({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:n}){let s=null,a,o={width:-1,height:-1};function u(h){h===!0||e.debounce===0||e.debounce==="0"?d():s===null&&(s=setTimeout(d,e.debounce))}function d(){if(s!==null&&(clearTimeout(s),s=null),a){const{offsetWidth:h,offsetHeight:f}=a;(h!==o.width||f!==o.height)&&(o={width:h,height:f},n("resize",o))}}const{proxy:m}=xe();if(m.trigger=u,Xr===!0){let h;const f=g=>{a=m.$el.parentNode,a?(h=new ResizeObserver(u),h.observe(a),d()):g!==!0&&Tt(()=>{f(!0)})};return Qe(()=>{f()}),it(()=>{s!==null&&clearTimeout(s),h!==void 0&&(h.disconnect!==void 0?h.disconnect():a&&h.unobserve(a))}),Pn}else{let h=function(){s!==null&&(clearTimeout(s),s=null),k!==void 0&&(k.removeEventListener!==void 0&&k.removeEventListener("resize",u,wn.passive),k=void 0)},f=function(){h(),a?.contentDocument&&(k=a.contentDocument.defaultView,k.addEventListener("resize",u,wn.passive),d())};const{isHydrated:g}=Xo();let k;return Qe(()=>{Tt(()=>{a=m.$el,a&&f()})}),it(h),()=>{if(g.value===!0)return J("object",{class:"q--avoid-card-border",style:br.style,tabindex:-1,type:"text/html",data:br.url,"aria-hidden":"true",onLoad:f})}}}}),Jo=ue({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:s}){const{proxy:{$q:a}}=xe(),o=Dn(At,be);if(o===be)return console.error("QHeader needs to be child of QLayout"),be;const u=X(parseInt(e.heightHint,10)),d=X(!0),m=A(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||a.platform.is.ios&&o.isContainer.value===!0),h=A(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return d.value===!0?u.value:0;const y=u.value-o.scroll.value.position;return y>0?y:0}),f=A(()=>e.modelValue!==!0||m.value===!0&&d.value!==!0),g=A(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),k=A(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),T=A(()=>{const y=o.rows.value.top,L={};return y[0]==="l"&&o.left.space===!0&&(L[a.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),y[2]==="r"&&o.right.space===!0&&(L[a.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),L});function S(y,L){o.update("header",y,L)}function C(y,L){y.value!==L&&(y.value=L)}function E({height:y}){C(u,y),S("size",y)}function v(y){g.value===!0&&C(d,!0),s("focusin",y)}U(()=>e.modelValue,y=>{S("space",y),C(d,!0),o.animate()}),U(h,y=>{S("offset",y)}),U(()=>e.reveal,y=>{y===!1&&C(d,e.modelValue)}),U(d,y=>{o.animate(),s("reveal",y)}),U(o.scroll,y=>{e.reveal===!0&&C(d,y.direction==="up"||y.position<=e.revealOffset||y.position-y.inflectionPoint<100)});const b={};return o.instances.header=b,e.modelValue===!0&&S("size",u.value),S("space",e.modelValue),S("offset",h.value),it(()=>{o.instances.header===b&&(o.instances.header=void 0,S("size",0),S("offset",0),S("space",!1))}),()=>{const y=_o(n.default,[]);return e.elevated===!0&&y.push(J("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y.push(J(Sn,{debounce:0,onResize:E})),J("header",{class:k.value,style:T.value,onFocusin:v},y)}}}),Go=["top","middle","bottom"],Yo=ue({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Go.includes(e)}},setup(e,{slots:n}){const s=A(()=>e.align!==void 0?{verticalAlign:e.align}:null),a=A(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>J("div",{class:a.value,style:s.value,role:"status","aria-label":e.label},Vr(n.default,e.label!==void 0?[e.label]:[]))}}),Nn={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Zo=Object.keys(Nn);Nn.all=!0;function yr(e){const n={};for(const s of Zo)e[s]===!0&&(n[s]=!0);return Object.keys(n).length===0?Nn:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const ea=["INPUT","TEXTAREA"];function wr(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&ea.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function on(e,n,s){const a=_n(e);let o,u=a.left-n.event.x,d=a.top-n.event.y,m=Math.abs(u),h=Math.abs(d);const f=n.direction;f.horizontal===!0&&f.vertical!==!0?o=u<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?o=d<0?"up":"down":f.up===!0&&d<0?(o="up",m>h&&(f.left===!0&&u<0?o="left":f.right===!0&&u>0&&(o="right"))):f.down===!0&&d>0?(o="down",m>h&&(f.left===!0&&u<0?o="left":f.right===!0&&u>0&&(o="right"))):f.left===!0&&u<0?(o="left",m<h&&(f.up===!0&&d<0?o="up":f.down===!0&&d>0&&(o="down"))):f.right===!0&&u>0&&(o="right",m<h&&(f.up===!0&&d<0?o="up":f.down===!0&&d>0&&(o="down")));let g=!1;if(o===void 0&&s===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};o=n.event.lastDir,g=!0,o==="left"||o==="right"?(a.left-=u,m=0,u=0):(a.top-=d,h=0,d=0)}return{synthetic:g,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:a,direction:o,isFirst:n.event.isFirst,isFinal:s===!0,duration:Date.now()-n.event.time,distance:{x:m,y:h},offset:{x:u,y:d},delta:{x:a.left-n.event.lastX,y:a.top-n.event.lastY}}}}let ta=0;const an=So({name:"touch-pan",beforeMount(e,{value:n,modifiers:s}){if(s.mouse!==!0&&rt.has.touch!==!0)return;function a(u,d){s.mouse===!0&&d===!0?To(u):(s.stop===!0&&tn(u),s.prevent===!0&&fr(u))}const o={uid:"qvtp_"+ta++,handler:n,modifiers:s,direction:yr(s),noop:Pn,mouseStart(u){wr(u,o)&&Co(u)&&(bt(o,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),o.start(u,!0))},touchStart(u){if(wr(u,o)){const d=u.target;bt(o,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","passiveCapture"],[d,"touchend","end","passiveCapture"]]),o.start(u)}},start(u,d){if(rt.is.firefox===!0&&en(e,!0),o.lastEvt=u,d===!0||s.stop===!0){if(o.direction.all!==!0&&(d!==!0||o.modifiers.mouseAllDir!==!0&&o.modifiers.mousealldir!==!0)){const f=u.type.indexOf("mouse")!==-1?new MouseEvent(u.type,u):new TouchEvent(u.type,u);u.defaultPrevented===!0&&fr(f),u.cancelBubble===!0&&tn(f),Object.assign(f,{qKeyEvent:u.qKeyEvent,qClickOutside:u.qClickOutside,qAnchorHandled:u.qAnchorHandled,qClonedBy:u.qClonedBy===void 0?[o.uid]:u.qClonedBy.concat(o.uid)}),o.initialEvent={target:u.target,event:f}}tn(u)}const{left:m,top:h}=_n(u);o.event={x:m,y:h,time:Date.now(),mouse:d===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:h}},move(u){if(o.event===void 0)return;const d=_n(u),m=d.left-o.event.x,h=d.top-o.event.y;if(m===0&&h===0)return;o.lastEvt=u;const f=o.event.mouse===!0,g=()=>{a(u,f);let S;s.preserveCursor!==!0&&s.preservecursor!==!0&&(S=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Do(),o.styleCleanup=C=>{if(o.styleCleanup=void 0,S!==void 0&&(document.documentElement.style.cursor=S),document.body.classList.remove("non-selectable"),f===!0){const E=()=>{document.body.classList.remove("no-pointer-events--children")};C!==void 0?setTimeout(()=>{E(),C()},50):E()}else C!==void 0&&C()}};if(o.event.detected===!0){o.event.isFirst!==!0&&a(u,o.event.mouse);const{payload:S,synthetic:C}=on(u,o,!1);S!==void 0&&(o.handler(S)===!1?o.end(u):(o.styleCleanup===void 0&&o.event.isFirst===!0&&g(),o.event.lastX=S.position.left,o.event.lastY=S.position.top,o.event.lastDir=C===!0?void 0:S.direction,o.event.isFirst=!1));return}if(o.direction.all===!0||f===!0&&(o.modifiers.mouseAllDir===!0||o.modifiers.mousealldir===!0)){g(),o.event.detected=!0,o.move(u);return}const k=Math.abs(m),T=Math.abs(h);k!==T&&(o.direction.horizontal===!0&&k>T||o.direction.vertical===!0&&k<T||o.direction.up===!0&&k<T&&h<0||o.direction.down===!0&&k<T&&h>0||o.direction.left===!0&&k>T&&m<0||o.direction.right===!0&&k>T&&m>0?(o.event.detected=!0,o.move(u)):o.end(u,!0))},end(u,d){if(o.event!==void 0){if(Zt(o,"temp"),rt.is.firefox===!0&&en(e,!1),d===!0)o.styleCleanup?.(),o.event.detected!==!0&&o.initialEvent!==void 0&&o.initialEvent.target.dispatchEvent(o.initialEvent.event);else if(o.event.detected===!0){o.event.isFirst===!0&&o.handler(on(u===void 0?o.lastEvt:u,o).payload);const{payload:m}=on(u===void 0?o.lastEvt:u,o,!0),h=()=>{o.handler(m)};o.styleCleanup!==void 0?o.styleCleanup(h):h()}o.event=void 0,o.initialEvent=void 0,o.lastEvt=void 0}}};if(e.__qtouchpan=o,s.mouse===!0){const u=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";bt(o,"main",[[e,"mousedown","mouseStart",`passive${u}`]])}rt.has.touch===!0&&bt(o,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const s=e.__qtouchpan;s!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&s.end(),s.handler=n.value),s.direction=yr(n.modifiers))},beforeUnmount(e){const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),Zt(n,"main"),Zt(n,"temp"),rt.is.firefox===!0&&en(e,!1),n.styleCleanup?.(),delete e.__qtouchpan)}}),_r=150,na=ue({name:"QDrawer",inheritAttrs:!1,props:{...Ro,...On,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Oo,"onLayout","miniState"],setup(e,{slots:n,emit:s,attrs:a}){const o=xe(),{proxy:{$q:u}}=o,d=Rn(e,u),{preventBodyScroll:m}=Mo(),{registerTimeout:h,removeTimeout:f}=Lo(),g=Dn(At,be);if(g===be)return console.error("QDrawer needs to be child of QLayout"),be;let k,T=null,S;const C=X(e.behavior==="mobile"||e.behavior!=="desktop"&&g.totalWidth.value<=e.breakpoint),E=A(()=>e.mini===!0&&C.value!==!0),v=A(()=>E.value===!0?e.miniWidth:e.width),b=X(e.showIfAbove===!0&&C.value===!1?!0:e.modelValue===!0),y=A(()=>e.persistent!==!0&&(C.value===!0||Rt.value===!0));function L(_,H){if(W(),_!==!1&&g.animate(),re(0),C.value===!0){const $=g.instances[He.value];$?.belowBreakpoint===!0&&$.hide(!1),le(1),g.isContainer.value!==!0&&m(!0)}else le(0),_!==!1&&je(!1);h(()=>{_!==!1&&je(!0),H!==!0&&s("show",_)},_r)}function x(_,H){K(),_!==!1&&g.animate(),le(0),re(D.value*v.value),Ze(),H!==!0?h(()=>{s("hide",_)},_r):f()}const{show:q,hide:F}=No({showing:b,hideOnRouteChange:y,handleShow:L,handleHide:x}),{addToHistory:W,removeFromHistory:K}=Bo(b,F,y),Y={belowBreakpoint:C,hide:F},P=A(()=>e.side==="right"),D=A(()=>(u.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),ie=X(0),N=X(!1),_e=X(!1),ut=X(v.value*D.value),He=A(()=>P.value===!0?"left":"right"),Je=A(()=>b.value===!0&&C.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:v.value:0),Ge=A(()=>e.overlay===!0||e.miniToOverlay===!0||g.view.value.indexOf(P.value?"R":"L")!==-1||u.platform.is.ios===!0&&g.isContainer.value===!0),Se=A(()=>e.overlay===!1&&b.value===!0&&C.value===!1),Rt=A(()=>e.overlay===!0&&b.value===!0&&C.value===!1),Lt=A(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&N.value===!1?" hidden":"")),fe=A(()=>({backgroundColor:`rgba(0,0,0,${ie.value*.4})`})),lt=A(()=>P.value===!0?g.rows.value.top[2]==="r":g.rows.value.top[0]==="l"),Nt=A(()=>P.value===!0?g.rows.value.bottom[2]==="r":g.rows.value.bottom[0]==="l"),Z=A(()=>{const _={};return g.header.space===!0&&lt.value===!1&&(Ge.value===!0?_.top=`${g.header.offset}px`:g.header.space===!0&&(_.top=`${g.header.size}px`)),g.footer.space===!0&&Nt.value===!1&&(Ge.value===!0?_.bottom=`${g.footer.offset}px`:g.footer.space===!0&&(_.bottom=`${g.footer.size}px`)),_}),te=A(()=>{const _={width:`${v.value}px`,transform:`translateX(${ut.value}px)`};return C.value===!0?_:Object.assign(_,Z.value)}),Bt=A(()=>"q-drawer__content fit "+(g.isContainer.value!==!0?"scroll":"overflow-auto")),dt=A(()=>`q-drawer q-drawer--${e.side}`+(_e.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(d.value===!0?" q-drawer--dark q-dark":"")+(N.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(C.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${E.value===!0?"mini":"standard"}`+(Ge.value===!0||Se.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(lt.value===!0?" q-drawer--top-padding":""))),oe=A(()=>{const _=u.lang.rtl===!0?e.side:He.value;return[[an,$t,void 0,{[_]:!0,mouse:!0}]]}),ht=A(()=>{const _=u.lang.rtl===!0?He.value:e.side;return[[an,Ye,void 0,{[_]:!0,mouse:!0}]]}),Mt=A(()=>{const _=u.lang.rtl===!0?He.value:e.side;return[[an,Ye,void 0,{[_]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){qt(C,e.behavior==="mobile"||e.behavior!=="desktop"&&g.totalWidth.value<=e.breakpoint)}U(C,_=>{_===!0?(k=b.value,b.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&k!==!1&&(b.value===!0?(re(0),le(0),Ze()):q(!1))}),U(()=>e.side,(_,H)=>{g.instances[H]===Y&&(g.instances[H]=void 0,g[H].space=!1,g[H].offset=0),g.instances[_]=Y,g[_].size=v.value,g[_].space=Se.value,g[_].offset=Je.value}),U(g.totalWidth,()=>{(g.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),U(()=>e.behavior+e.breakpoint,pe),U(g.isContainer,_=>{b.value===!0&&m(_!==!0),_===!0&&pe()}),U(g.scrollbarWidth,()=>{re(b.value===!0?0:void 0)}),U(Je,_=>{de("offset",_)}),U(Se,_=>{s("onLayout",_),de("space",_)}),U(P,()=>{re()}),U(v,_=>{re(),et(e.miniToOverlay,_)}),U(()=>e.miniToOverlay,_=>{et(_,v.value)}),U(()=>u.lang.rtl,()=>{re()}),U(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ft(),g.animate())}),U(E,_=>{s("miniState",_)});function re(_){_===void 0?Tt(()=>{_=b.value===!0?0:v.value,re(D.value*_)}):(g.isContainer.value===!0&&P.value===!0&&(C.value===!0||Math.abs(_)===v.value)&&(_+=D.value*g.scrollbarWidth.value),ut.value=_)}function le(_){ie.value=_}function je(_){const H=_===!0?"remove":g.isContainer.value!==!0?"add":"";H!==""&&document.body.classList[H]("q-body--drawer-toggle")}function ft(){T!==null&&clearTimeout(T),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),_e.value=!0,T=setTimeout(()=>{T=null,_e.value=!1,o?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function $t(_){if(b.value!==!1)return;const H=v.value,$=St(_.distance.x,0,H);if(_.isFinal===!0){$>=Math.min(75,H)===!0?q():(g.animate(),le(0),re(D.value*H)),N.value=!1;return}re((u.lang.rtl===!0?P.value!==!0:P.value)?Math.max(H-$,0):Math.min(0,$-H)),le(St($/H,0,1)),_.isFirst===!0&&(N.value=!0)}function Ye(_){if(b.value!==!0)return;const H=v.value,$=_.direction===e.side,ze=(u.lang.rtl===!0?$!==!0:$)?St(_.distance.x,0,H):0;if(_.isFinal===!0){Math.abs(ze)<Math.min(75,H)===!0?(g.animate(),le(1),re(0)):F(),N.value=!1;return}re(D.value*ze),le(St(1-ze/H,0,1)),_.isFirst===!0&&(N.value=!0)}function Ze(){m(!1),je(!0)}function de(_,H){g.update(e.side,_,H)}function qt(_,H){_.value!==H&&(_.value=H)}function et(_,H){de("size",_===!0?e.miniWidth:H)}return g.instances[e.side]=Y,et(e.miniToOverlay,v.value),de("space",Se.value),de("offset",Je.value),e.showIfAbove===!0&&e.modelValue!==!0&&b.value===!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!0),Qe(()=>{s("onLayout",Se.value),s("miniState",E.value),k=e.showIfAbove===!0;const _=()=>{(b.value===!0?L:x)(!1,!0)};if(g.totalWidth.value!==0){Tt(_);return}S=U(g.totalWidth,()=>{S(),S=void 0,b.value===!1&&e.showIfAbove===!0&&C.value===!1?q(!1):_()})}),it(()=>{S?.(),T!==null&&(clearTimeout(T),T=null),b.value===!0&&Ze(),g.instances[e.side]===Y&&(g.instances[e.side]=void 0,de("size",0),de("offset",0),de("space",!1))}),()=>{const _=[];C.value===!0&&(e.noSwipeOpen===!1&&_.push(Le(J("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),oe.value)),_.push(pr("div",{ref:"backdrop",class:Lt.value,style:fe.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&b.value===!0,()=>Mt.value)));const H=E.value===!0&&n.mini!==void 0,$=[J("div",{...a,key:""+H,class:[Bt.value,a.class]},H===!0?n.mini():ct(n.default))];return e.elevated===!0&&b.value===!0&&$.push(J("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_.push(pr("aside",{ref:"content",class:dt.value,style:te.value},$,"contentclose",e.noSwipeClose!==!0&&C.value===!0,()=>ht.value)),J("div",{class:"q-drawer-container"},_)}}}),ra=ue({name:"QPageContainer",setup(e,{slots:n}){const{proxy:{$q:s}}=xe(),a=Dn(At,be);if(a===be)return console.error("QPageContainer needs to be child of QLayout"),be;Wr(ko,!0);const o=A(()=>{const u={};return a.header.space===!0&&(u.paddingTop=`${a.header.size}px`),a.right.space===!0&&(u[`padding${s.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(u.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(u[`padding${s.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),u});return()=>J("div",{class:"q-page-container",style:o.value},ct(n.default))}}),{passive:Sr}=wn,ia=["both","horizontal","vertical"],sa=ue({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ia.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:$o},emits:["scroll"],setup(e,{emit:n}){const s={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a=null,o,u;U(()=>e.scrollTarget,()=>{h(),m()});function d(){a?.();const k=Math.max(0,Ho(o)),T=jo(o),S={top:k-s.position.top,left:T-s.position.left};if(e.axis==="vertical"&&S.top===0||e.axis==="horizontal"&&S.left===0)return;const C=Math.abs(S.top)>=Math.abs(S.left)?S.top<0?"up":"down":S.left<0?"left":"right";s.position={top:k,left:T},s.directionChanged=s.direction!==C,s.delta=S,s.directionChanged===!0&&(s.direction=C,s.inflectionPoint=s.position),n("scroll",{...s})}function m(){o=qo(u,e.scrollTarget),o.addEventListener("scroll",f,Sr),f(!0)}function h(){o!==void 0&&(o.removeEventListener("scroll",f,Sr),o=void 0)}function f(k){if(k===!0||e.debounce===0||e.debounce==="0")d();else if(a===null){const[T,S]=e.debounce?[setTimeout(d,e.debounce),clearTimeout]:[requestAnimationFrame(d),cancelAnimationFrame];a=()=>{S(T),a=null}}}const{proxy:g}=xe();return U(()=>g.$q.lang.rtl,d),Qe(()=>{u=g.$el.parentNode,m()}),it(()=>{a?.(),h()}),Object.assign(g,{trigger:f,getPosition:()=>s}),Pn}}),oa=ue({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:n,emit:s}){const{proxy:{$q:a}}=xe(),o=X(null),u=X(a.screen.height),d=X(e.container===!0?0:a.screen.width),m=X({position:0,direction:"down",inflectionPoint:0}),h=X(0),f=X(Ur.value===!0?0:rn()),g=A(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),k=A(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),T=A(()=>f.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),S=A(()=>f.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function C(x){if(e.container===!0||document.qScrollPrevented!==!0){const q={position:x.position.top,direction:x.direction,directionChanged:x.directionChanged,inflectionPoint:x.inflectionPoint.top,delta:x.delta.top};m.value=q,e.onScroll!==void 0&&s("scroll",q)}}function E(x){const{height:q,width:F}=x;let W=!1;u.value!==q&&(W=!0,u.value=q,e.onScrollHeight!==void 0&&s("scrollHeight",q),b()),d.value!==F&&(W=!0,d.value=F),W===!0&&e.onResize!==void 0&&s("resize",x)}function v({height:x}){h.value!==x&&(h.value=x,b())}function b(){if(e.container===!0){const x=u.value>h.value?rn():0;f.value!==x&&(f.value=x)}}let y=null;const L={instances:{},view:A(()=>e.view),isContainer:A(()=>e.container),rootRef:o,height:u,containerHeight:h,scrollbarWidth:f,totalWidth:A(()=>d.value+f.value),rows:A(()=>{const x=e.view.toLowerCase().split(" ");return{top:x[0].split(""),middle:x[1].split(""),bottom:x[2].split("")}}),header:yt({size:0,offset:0,space:!1}),right:yt({size:300,offset:0,space:!1}),footer:yt({size:0,offset:0,space:!1}),left:yt({size:300,offset:0,space:!1}),scroll:m,animate(){y!==null?clearTimeout(y):document.body.classList.add("q-body--layout-animate"),y=setTimeout(()=>{y=null,document.body.classList.remove("q-body--layout-animate")},155)},update(x,q,F){L[x][q]=F}};if(Wr(At,L),rn()>0){let x=function(){W=null,K.classList.remove("hide-scrollbar")},q=function(){if(W===null){if(K.scrollHeight>a.screen.height)return;K.classList.add("hide-scrollbar")}else clearTimeout(W);W=setTimeout(x,300)},F=function(Y){W!==null&&Y==="remove"&&(clearTimeout(W),x()),window[`${Y}EventListener`]("resize",q)},W=null;const K=document.body;U(()=>e.container!==!0?"add":"remove",F),e.container!==!0&&F("add"),Eo(()=>{F("remove")})}return()=>{const x=Vr(n.default,[J(sa,{onScroll:C}),J(Sn,{onResize:E})]),q=J("div",{class:g.value,style:k.value,ref:e.container===!0?void 0:o,tabindex:-1},x);return e.container===!0?J("div",{class:"q-layout-container overflow-hidden",ref:o},[J(Sn,{onResize:v}),J("div",{class:"absolute-full",style:T.value},[J("div",{class:"scroll",style:S.value},[q])])]):q}}});var cn={exports:{}};var Cr;function aa(){return Cr||(Cr=1,(function(e,n){(function(a,o){e.exports=o()})(window,function(){return(function(s){var a={};function o(u){if(a[u])return a[u].exports;var d=a[u]={i:u,l:!1,exports:{}};return s[u].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=s,o.c=a,o.d=function(u,d,m){o.o(u,d)||Object.defineProperty(u,d,{enumerable:!0,get:m})},o.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},o.t=function(u,d){if(d&1&&(u=o(u)),d&8||d&4&&typeof u=="object"&&u&&u.__esModule)return u;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:u}),d&2&&typeof u!="string")for(var h in u)o.d(m,h,(function(f){return u[f]}).bind(null,h));return m},o.n=function(u){var d=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(d,"a",d),d},o.o=function(u,d){return Object.prototype.hasOwnProperty.call(u,d)},o.p="",o(o.s=2)})([(function(s,a,o){var u=this&&this.__extends||(function(){var E=function(v,b){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,L){y.__proto__=L}||function(y,L){for(var x in L)L.hasOwnProperty(x)&&(y[x]=L[x])},E(v,b)};return function(v,b){E(v,b);function y(){this.constructor=v}v.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}})();Object.defineProperty(a,"__esModule",{value:!0});var d=256,m=(function(){function E(v){v===void 0&&(v="="),this._paddingCharacter=v}return E.prototype.encodedLength=function(v){return this._paddingCharacter?(v+2)/3*4|0:(v*8+5)/6|0},E.prototype.encode=function(v){for(var b="",y=0;y<v.length-2;y+=3){var L=v[y]<<16|v[y+1]<<8|v[y+2];b+=this._encodeByte(L>>>18&63),b+=this._encodeByte(L>>>12&63),b+=this._encodeByte(L>>>6&63),b+=this._encodeByte(L>>>0&63)}var x=v.length-y;if(x>0){var L=v[y]<<16|(x===2?v[y+1]<<8:0);b+=this._encodeByte(L>>>18&63),b+=this._encodeByte(L>>>12&63),x===2?b+=this._encodeByte(L>>>6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},E.prototype.maxDecodedLength=function(v){return this._paddingCharacter?v/4*3|0:(v*6+7)/8|0},E.prototype.decodedLength=function(v){return this.maxDecodedLength(v.length-this._getPaddingLength(v))},E.prototype.decode=function(v){if(v.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(v),y=v.length-b,L=new Uint8Array(this.maxDecodedLength(y)),x=0,q=0,F=0,W=0,K=0,Y=0,P=0;q<y-4;q+=4)W=this._decodeChar(v.charCodeAt(q+0)),K=this._decodeChar(v.charCodeAt(q+1)),Y=this._decodeChar(v.charCodeAt(q+2)),P=this._decodeChar(v.charCodeAt(q+3)),L[x++]=W<<2|K>>>4,L[x++]=K<<4|Y>>>2,L[x++]=Y<<6|P,F|=W&d,F|=K&d,F|=Y&d,F|=P&d;if(q<y-1&&(W=this._decodeChar(v.charCodeAt(q)),K=this._decodeChar(v.charCodeAt(q+1)),L[x++]=W<<2|K>>>4,F|=W&d,F|=K&d),q<y-2&&(Y=this._decodeChar(v.charCodeAt(q+2)),L[x++]=K<<4|Y>>>2,F|=Y&d),q<y-3&&(P=this._decodeChar(v.charCodeAt(q+3)),L[x++]=Y<<6|P,F|=P&d),F!==0)throw new Error("Base64Coder: incorrect characters for decoding");return L},E.prototype._encodeByte=function(v){var b=v;return b+=65,b+=25-v>>>8&6,b+=51-v>>>8&-75,b+=61-v>>>8&-15,b+=62-v>>>8&3,String.fromCharCode(b)},E.prototype._decodeChar=function(v){var b=d;return b+=(42-v&v-44)>>>8&-d+v-43+62,b+=(46-v&v-48)>>>8&-d+v-47+63,b+=(47-v&v-58)>>>8&-d+v-48+52,b+=(64-v&v-91)>>>8&-d+v-65+0,b+=(96-v&v-123)>>>8&-d+v-97+26,b},E.prototype._getPaddingLength=function(v){var b=0;if(this._paddingCharacter){for(var y=v.length-1;y>=0&&v[y]===this._paddingCharacter;y--)b++;if(v.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},E})();a.Coder=m;var h=new m;function f(E){return h.encode(E)}a.encode=f;function g(E){return h.decode(E)}a.decode=g;var k=(function(E){u(v,E);function v(){return E!==null&&E.apply(this,arguments)||this}return v.prototype._encodeByte=function(b){var y=b;return y+=65,y+=25-b>>>8&6,y+=51-b>>>8&-75,y+=61-b>>>8&-13,y+=62-b>>>8&49,String.fromCharCode(y)},v.prototype._decodeChar=function(b){var y=d;return y+=(44-b&b-46)>>>8&-d+b-45+62,y+=(94-b&b-96)>>>8&-d+b-95+63,y+=(47-b&b-58)>>>8&-d+b-48+52,y+=(64-b&b-91)>>>8&-d+b-65+0,y+=(96-b&b-123)>>>8&-d+b-97+26,y},v})(m);a.URLSafeCoder=k;var T=new k;function S(E){return T.encode(E)}a.encodeURLSafe=S;function C(E){return T.decode(E)}a.decodeURLSafe=C,a.encodedLength=function(E){return h.encodedLength(E)},a.maxDecodedLength=function(E){return h.maxDecodedLength(E)},a.decodedLength=function(E){return h.decodedLength(E)}}),(function(s,a,o){Object.defineProperty(a,"__esModule",{value:!0});var u="utf8: invalid string",d="utf8: invalid source encoding";function m(g){for(var k=new Uint8Array(h(g)),T=0,S=0;S<g.length;S++){var C=g.charCodeAt(S);C<128?k[T++]=C:C<2048?(k[T++]=192|C>>6,k[T++]=128|C&63):C<55296?(k[T++]=224|C>>12,k[T++]=128|C>>6&63,k[T++]=128|C&63):(S++,C=(C&1023)<<10,C|=g.charCodeAt(S)&1023,C+=65536,k[T++]=240|C>>18,k[T++]=128|C>>12&63,k[T++]=128|C>>6&63,k[T++]=128|C&63)}return k}a.encode=m;function h(g){for(var k=0,T=0;T<g.length;T++){var S=g.charCodeAt(T);if(S<128)k+=1;else if(S<2048)k+=2;else if(S<55296)k+=3;else if(S<=57343){if(T>=g.length-1)throw new Error(u);T++,k+=4}else throw new Error(u)}return k}a.encodedLength=h;function f(g){for(var k=[],T=0;T<g.length;T++){var S=g[T];if(S&128){var C=void 0;if(S<224){if(T>=g.length)throw new Error(d);var E=g[++T];if((E&192)!==128)throw new Error(d);S=(S&31)<<6|E&63,C=128}else if(S<240){if(T>=g.length-1)throw new Error(d);var E=g[++T],v=g[++T];if((E&192)!==128||(v&192)!==128)throw new Error(d);S=(S&15)<<12|(E&63)<<6|v&63,C=2048}else if(S<248){if(T>=g.length-2)throw new Error(d);var E=g[++T],v=g[++T],b=g[++T];if((E&192)!==128||(v&192)!==128||(b&192)!==128)throw new Error(d);S=(S&15)<<18|(E&63)<<12|(v&63)<<6|b&63,C=65536}else throw new Error(d);if(S<C||S>=55296&&S<=57343)throw new Error(d);if(S>=65536){if(S>1114111)throw new Error(d);S-=65536,k.push(String.fromCharCode(55296|S>>10)),S=56320|S&1023}}k.push(String.fromCharCode(S))}return k.join("")}a.decode=f}),(function(s,a,o){s.exports=o(3).default}),(function(s,a,o){o.r(a);class u{constructor(t,r){this.lastId=0,this.prefix=t,this.name=r}create(t){this.lastId++;var r=this.lastId,c=this.prefix+r,l=this.name+"["+r+"]",p=!1,w=function(){p||(t.apply(null,arguments),p=!0)};return this[r]=w,{number:r,id:c,name:l,callback:w}}remove(t){delete this[t.number]}}var d=new u("_pusher_script_","Pusher.ScriptReceivers"),m={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},h=m;class f{constructor(t){this.options=t,this.receivers=t.receivers||d,this.loading={}}load(t,r,c){var l=this;if(l.loading[t]&&l.loading[t].length>0)l.loading[t].push(c);else{l.loading[t]=[c];var p=R.createScriptRequest(l.getPath(t,r)),w=l.receivers.create(function(I){if(l.receivers.remove(w),l.loading[t]){var O=l.loading[t];delete l.loading[t];for(var j=function(G){G||p.cleanup()},z=0;z<O.length;z++)O[z](I,j)}});p.send(w)}}getRoot(t){var r,c=R.getDocument().location.protocol;return t&&t.useTLS||c==="https:"?r=this.options.cdn_https:r=this.options.cdn_http,r.replace(/\/*$/,"")+"/"+this.options.version}getPath(t,r){return this.getRoot(r)+"/"+t+this.options.suffix+".js"}}var g=new u("_pusher_dependencies","Pusher.DependenciesReceivers"),k=new f({cdn_http:h.cdn_http,cdn_https:h.cdn_https,version:h.VERSION,suffix:h.dependency_suffix,receivers:g});const T={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var C={buildLogSuffix:function(i){const t="See:",r=T.urls[i];if(!r)return"";let c;return r.fullUrl?c=r.fullUrl:r.path&&(c=T.baseUrl+r.path),c?`${t} ${c}`:""}},E;(function(i){i.UserAuthentication="user-authentication",i.ChannelAuthorization="channel-authorization"})(E||(E={}));class v extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class L extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class q extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class W extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}}class K extends Error{constructor(t,r){super(r),this.status=t,Object.setPrototypeOf(this,new.target.prototype)}}var P=function(i,t,r,c,l){const p=R.createXHR();p.open("POST",r.endpoint,!0),p.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var w in r.headers)p.setRequestHeader(w,r.headers[w]);if(r.headersProvider!=null){let I=r.headersProvider();for(var w in I)p.setRequestHeader(w,I[w])}return p.onreadystatechange=function(){if(p.readyState===4)if(p.status===200){let I,O=!1;try{I=JSON.parse(p.responseText),O=!0}catch{l(new K(200,`JSON returned from ${c.toString()} endpoint was invalid, yet status code was 200. Data was: ${p.responseText}`),null)}O&&l(null,I)}else{let I="";switch(c){case E.UserAuthentication:I=C.buildLogSuffix("authenticationEndpoint");break;case E.ChannelAuthorization:I=`Clients must be authorized to join private or presence channels. ${C.buildLogSuffix("authorizationEndpoint")}`;break}l(new K(p.status,`Unable to retrieve auth string from ${c.toString()} endpoint - received status: ${p.status} from ${r.endpoint}. ${I}`),null)}},p.send(t),p};function D(i){return Je(ut(i))}var ie=String.fromCharCode,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_e=function(i){var t=i.charCodeAt(0);return t<128?i:t<2048?ie(192|t>>>6)+ie(128|t&63):ie(224|t>>>12&15)+ie(128|t>>>6&63)+ie(128|t&63)},ut=function(i){return i.replace(/[^\x00-\x7F]/g,_e)},He=function(i){var t=[0,2,1][i.length%3],r=i.charCodeAt(0)<<16|(i.length>1?i.charCodeAt(1):0)<<8|(i.length>2?i.charCodeAt(2):0),c=[N.charAt(r>>>18),N.charAt(r>>>12&63),t>=2?"=":N.charAt(r>>>6&63),t>=1?"=":N.charAt(r&63)];return c.join("")},Je=window.btoa||function(i){return i.replace(/[\s\S]{1,3}/g,He)};class Ge{constructor(t,r,c,l){this.clear=r,this.timer=t(()=>{this.timer&&(this.timer=l(this.timer))},c)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Se=Ge;function Rt(i){window.clearTimeout(i)}function Lt(i){window.clearInterval(i)}class fe extends Se{constructor(t,r){super(setTimeout,Rt,t,function(c){return r(),null})}}class lt extends Se{constructor(t,r){super(setInterval,Lt,t,function(c){return r(),c})}}var Nt={now(){return Date.now?Date.now():new Date().valueOf()},defer(i){return new fe(0,i)},method(i,...t){var r=Array.prototype.slice.call(arguments,1);return function(c){return c[i].apply(c,r.concat(arguments))}}},Z=Nt;function te(i,...t){for(var r=0;r<t.length;r++){var c=t[r];for(var l in c)c[l]&&c[l].constructor&&c[l].constructor===Object?i[l]=te(i[l]||{},c[l]):i[l]=c[l]}return i}function Bt(){for(var i=["Pusher"],t=0;t<arguments.length;t++)typeof arguments[t]=="string"?i.push(arguments[t]):i.push(_(arguments[t]));return i.join(" : ")}function dt(i,t){var r=Array.prototype.indexOf;if(i===null)return-1;if(r&&i.indexOf===r)return i.indexOf(t);for(var c=0,l=i.length;c<l;c++)if(i[c]===t)return c;return-1}function oe(i,t){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(i[r],r,i)}function ht(i){var t=[];return oe(i,function(r,c){t.push(c)}),t}function Mt(i){var t=[];return oe(i,function(r){t.push(r)}),t}function pe(i,t,r){for(var c=0;c<i.length;c++)t.call(r||window,i[c],c,i)}function re(i,t){for(var r=[],c=0;c<i.length;c++)r.push(t(i[c],c,i,r));return r}function le(i,t){var r={};return oe(i,function(c,l){r[l]=t(c)}),r}function je(i,t){t=t||function(l){return!!l};for(var r=[],c=0;c<i.length;c++)t(i[c],c,i,r)&&r.push(i[c]);return r}function ft(i,t){var r={};return oe(i,function(c,l){(t&&t(c,l,i,r)||c)&&(r[l]=c)}),r}function $t(i){var t=[];return oe(i,function(r,c){t.push([c,r])}),t}function Ye(i,t){for(var r=0;r<i.length;r++)if(t(i[r],r,i))return!0;return!1}function Ze(i,t){for(var r=0;r<i.length;r++)if(!t(i[r],r,i))return!1;return!0}function de(i){return le(i,function(t){return typeof t=="object"&&(t=_(t)),encodeURIComponent(D(t.toString()))})}function qt(i){var t=ft(i,function(c){return c!==void 0}),r=re($t(de(t)),Z.method("join","=")).join("&");return r}function et(i){var t=[],r=[];return(function c(l,p){var w,I,O;switch(typeof l){case"object":if(!l)return null;for(w=0;w<t.length;w+=1)if(t[w]===l)return{$ref:r[w]};if(t.push(l),r.push(p),Object.prototype.toString.apply(l)==="[object Array]")for(O=[],w=0;w<l.length;w+=1)O[w]=c(l[w],p+"["+w+"]");else{O={};for(I in l)Object.prototype.hasOwnProperty.call(l,I)&&(O[I]=c(l[I],p+"["+JSON.stringify(I)+"]"))}return O;case"number":case"string":case"boolean":return l}})(i,"$")}function _(i){try{return JSON.stringify(i)}catch{return JSON.stringify(et(i))}}class H{constructor(){this.globalLog=t=>{window.console&&window.console.log&&window.console.log(t)}}debug(...t){this.log(this.globalLog,t)}warn(...t){this.log(this.globalLogWarn,t)}error(...t){this.log(this.globalLogError,t)}globalLogWarn(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)}globalLogError(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)}log(t,...r){var c=Bt.apply(this,arguments);Jt.log?Jt.log(c):Jt.logToConsole&&t.bind(this)(c)}}var $=new H,ze=function(i,t,r,c,l){(r.headers!==void 0||r.headersProvider!=null)&&$.warn(`To send headers with the ${c.toString()} request, you must use AJAX, rather than JSONP.`);var p=i.nextAuthCallbackID.toString();i.nextAuthCallbackID++;var w=i.getDocument(),I=w.createElement("script");i.auth_callbacks[p]=function(z){l(null,z)};var O="Pusher.auth_callbacks['"+p+"']";I.src=r.endpoint+"?callback="+encodeURIComponent(O)+"&"+t;var j=w.getElementsByTagName("head")[0]||w.documentElement;j.insertBefore(I,j.firstChild)},Wn=ze;class Di{constructor(t){this.src=t}send(t){var r=this,c="Error loading "+r.src;r.script=document.createElement("script"),r.script.id=t.id,r.script.src=r.src,r.script.type="text/javascript",r.script.charset="UTF-8",r.script.addEventListener?(r.script.onerror=function(){t.callback(c)},r.script.onload=function(){t.callback(null)}):r.script.onreadystatechange=function(){(r.script.readyState==="loaded"||r.script.readyState==="complete")&&t.callback(null)},r.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(r.errorScript=document.createElement("script"),r.errorScript.id=t.id+"_error",r.errorScript.text=t.name+"('"+c+"');",r.script.async=r.errorScript.async=!1):r.script.async=!0;var l=document.getElementsByTagName("head")[0];l.insertBefore(r.script,l.firstChild),r.errorScript&&l.insertBefore(r.errorScript,r.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Oi{constructor(t,r){this.url=t,this.data=r}send(t){if(!this.request){var r=qt(this.data),c=this.url+"/"+t.number+"?"+r;this.request=R.createScriptRequest(c),this.request.send(t)}}cleanup(){this.request&&this.request.cleanup()}}var Ri=function(i,t){return function(r,c){var l="http"+(t?"s":"")+"://",p=l+(i.host||i.options.host)+i.options.path,w=R.createJSONPRequest(p,r),I=R.ScriptReceivers.create(function(O,j){d.remove(I),w.cleanup(),j&&j.host&&(i.host=j.host),c&&c(O,j)});w.send(I)}},Li={name:"jsonp",getAgent:Ri},Ni=Li;function Ht(i,t,r){var c=i+(t.useTLS?"s":""),l=t.useTLS?t.hostTLS:t.hostNonTLS;return c+"://"+l+r}function jt(i,t){var r="/app/"+i,c="?protocol="+h.PROTOCOL+"&client=js&version="+h.VERSION+(t?"&"+t:"");return r+c}var Bi={getInitial:function(i,t){var r=(t.httpPath||"")+jt(i,"flash=false");return Ht("ws",t,r)}},Mi={getInitial:function(i,t){var r=(t.httpPath||"/pusher")+jt(i);return Ht("http",t,r)}},$i={getInitial:function(i,t){return Ht("http",t,t.httpPath||"/pusher")},getPath:function(i,t){return jt(i)}};class qi{constructor(){this._callbacks={}}get(t){return this._callbacks[zt(t)]}add(t,r,c){var l=zt(t);this._callbacks[l]=this._callbacks[l]||[],this._callbacks[l].push({fn:r,context:c})}remove(t,r,c){if(!t&&!r&&!c){this._callbacks={};return}var l=t?[zt(t)]:ht(this._callbacks);r||c?this.removeCallback(l,r,c):this.removeAllCallbacks(l)}removeCallback(t,r,c){pe(t,function(l){this._callbacks[l]=je(this._callbacks[l]||[],function(p){return r&&r!==p.fn||c&&c!==p.context}),this._callbacks[l].length===0&&delete this._callbacks[l]},this)}removeAllCallbacks(t){pe(t,function(r){delete this._callbacks[r]},this)}}function zt(i){return"_"+i}class ge{constructor(t){this.callbacks=new qi,this.global_callbacks=[],this.failThrough=t}bind(t,r,c){return this.callbacks.add(t,r,c),this}bind_global(t){return this.global_callbacks.push(t),this}unbind(t,r,c){return this.callbacks.remove(t,r,c),this}unbind_global(t){return t?(this.global_callbacks=je(this.global_callbacks||[],r=>r!==t),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(t,r,c){for(var l=0;l<this.global_callbacks.length;l++)this.global_callbacks[l](t,r);var p=this.callbacks.get(t),w=[];if(c?w.push(r,c):r&&w.push(r),p&&p.length>0)for(var l=0;l<p.length;l++)p[l].fn.apply(p[l].context||window,w);else this.failThrough&&this.failThrough(t,r);return this}}class Hi extends ge{constructor(t,r,c,l,p){super(),this.initialize=R.transportConnectionInitializer,this.hooks=t,this.name=r,this.priority=c,this.key=l,this.options=p,this.state="new",this.timeline=p.timeline,this.activityTimeout=p.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(r){return Z.defer(()=>{this.onError(r),this.changeState("closed")}),!1}return this.bindListeners(),$.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(t){return this.state==="open"?(Z.defer(()=>{this.socket&&this.socket.send(t)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))}onClose(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(t){this.emit("message",t)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=t=>{this.onError(t)},this.socket.onclose=t=>{this.onClose(t)},this.socket.onmessage=t=>{this.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(t,r){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:r})),this.emit(t,r)}buildTimelineMessage(t){return te({cid:this.id},t)}}class Fe{constructor(t){this.hooks=t}isSupported(t){return this.hooks.isSupported(t)}createConnection(t,r,c,l){return new Hi(this.hooks,t,r,c,l)}}var ji=new Fe({urls:Bi,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!R.getWebSocketAPI()},isSupported:function(){return!!R.getWebSocketAPI()},getSocket:function(i){return R.createWebSocket(i)}}),Kn={urls:Mi,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Qn=te({getSocket:function(i){return R.HTTPFactory.createStreamingSocket(i)}},Kn),Xn=te({getSocket:function(i){return R.HTTPFactory.createPollingSocket(i)}},Kn),Jn={isSupported:function(){return R.isXHRSupported()}},zi=new Fe(te({},Qn,Jn)),Fi=new Fe(te({},Xn,Jn)),Ui={ws:ji,xhr_streaming:zi,xhr_polling:Fi},pt=Ui,Vi=new Fe({file:"sockjs",urls:$i,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(i,t){return new window.SockJS(i,null,{js_path:k.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(i,t){i.send(JSON.stringify({path:t}))}}),Gn={isSupported:function(i){var t=R.isXDRSupported(i.useTLS);return t}},Wi=new Fe(te({},Qn,Gn)),Ki=new Fe(te({},Xn,Gn));pt.xdr_streaming=Wi,pt.xdr_polling=Ki,pt.sockjs=Vi;var Qi=pt;class Xi extends ge{constructor(){super();var t=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Ji=new Xi;class Gi{constructor(t,r,c){this.manager=t,this.transport=r,this.minPingDelay=c.minPingDelay,this.maxPingDelay=c.maxPingDelay,this.pingDelay=void 0}createConnection(t,r,c,l){l=te({},l,{activityTimeout:this.pingDelay});var p=this.transport.createConnection(t,r,c,l),w=null,I=function(){p.unbind("open",I),p.bind("closed",O),w=Z.now()},O=j=>{if(p.unbind("closed",O),j.code===1002||j.code===1003)this.manager.reportDeath();else if(!j.wasClean&&w){var z=Z.now()-w;z<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(z/2,this.minPingDelay))}};return p.bind("open",I),p}isSupported(t){return this.manager.isAlive()&&this.transport.isSupported(t)}}const Yn={decodeMessage:function(i){try{var t=JSON.parse(i.data),r=t.data;if(typeof r=="string")try{r=JSON.parse(t.data)}catch{}var c={event:t.event,channel:t.channel,data:r};return t.user_id&&(c.user_id=t.user_id),c}catch(l){throw{type:"MessageParseError",error:l,data:i.data}}},encodeMessage:function(i){return JSON.stringify(i)},processHandshake:function(i){var t=Yn.decodeMessage(i);if(t.event==="pusher:connection_established"){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:t.data.activity_timeout*1e3}}else{if(t.event==="pusher:error")return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"}},getCloseAction:function(i){return i.code<4e3?i.code>=1002&&i.code<=1004?"backoff":null:i.code===4e3?"tls_only":i.code<4100?"refused":i.code<4200?"backoff":i.code<4300?"retry":"refused"},getCloseError:function(i){return i.code!==1e3&&i.code!==1001?{type:"PusherError",data:{code:i.code,message:i.reason||i.message}}:null}};var Pe=Yn;class Yi extends ge{constructor(t,r){super(),this.id=t,this.transport=r,this.activityTimeout=r.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(t){return this.transport.send(t)}send_event(t,r,c){var l={event:t,data:r};return c&&(l.channel=c),$.debug("Event sent",l),this.send(Pe.encodeMessage(l))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var t={message:c=>{var l;try{l=Pe.decodeMessage(c)}catch(p){this.emit("error",{type:"MessageParseError",error:p,data:c.data})}if(l!==void 0){switch($.debug("Event recd",l),l.event){case"pusher:error":this.emit("error",{type:"PusherError",data:l.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",l)}},activity:()=>{this.emit("activity")},error:c=>{this.emit("error",c)},closed:c=>{r(),c&&c.code&&this.handleCloseEvent(c),this.transport=null,this.emit("closed")}},r=()=>{oe(t,(c,l)=>{this.transport.unbind(l,c)})};oe(t,(c,l)=>{this.transport.bind(l,c)})}handleCloseEvent(t){var r=Pe.getCloseAction(t),c=Pe.getCloseError(t);c&&this.emit("error",c),r&&this.emit(r,{action:r,error:c})}}class Zi{constructor(t,r){this.transport=t,this.callback=r,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=t=>{this.unbindListeners();var r;try{r=Pe.processHandshake(t)}catch(c){this.finish("error",{error:c}),this.transport.close();return}r.action==="connected"?this.finish("connected",{connection:new Yi(r.id,this.transport),activityTimeout:r.activityTimeout}):(this.finish(r.action,{error:r.error}),this.transport.close())},this.onClosed=t=>{this.unbindListeners();var r=Pe.getCloseAction(t)||"backoff",c=Pe.getCloseError(t);this.finish(r,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(t,r){this.callback(te({transport:this.transport,action:t},r))}}class es{constructor(t,r){this.timeline=t,this.options=r||{}}send(t,r){this.timeline.isEmpty()||this.timeline.send(R.TimelineTransport.getAgent(this,t),r)}}class Ft extends ge{constructor(t,r){super(function(c,l){$.debug("No callbacks on "+t+" for "+c)}),this.name=t,this.pusher=r,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(t,r){return r(null,{auth:""})}trigger(t,r){if(t.indexOf("client-")!==0)throw new v("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var c=C.buildLogSuffix("triggeringClientEvents");$.warn(`Client event triggered before channel 'subscription_succeeded' event . ${c}`)}return this.pusher.send_event(t,r,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(t){var r=t.event,c=t.data;if(r==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(t);else if(r==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(t);else if(r.indexOf("pusher_internal:")!==0){var l={};this.emit(r,c,l)}}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)}handleSubscriptionCountEvent(t){t.data.subscription_count&&(this.subscriptionCount=t.data.subscription_count),this.emit("pusher:subscription_count",t.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(t,r)=>{t?(this.subscriptionPending=!1,$.error(t.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:t.message},t instanceof K?{status:t.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Ut extends Ft{authorize(t,r){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:t},r)}}class ts{constructor(){this.reset()}get(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null}each(t){oe(this.members,(r,c)=>{t(this.get(c))})}setMyID(t){this.myID=t}onSubscription(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)}addMember(t){return this.get(t.user_id)===null&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)}removeMember(t){var r=this.get(t.user_id);return r&&(delete this.members[t.user_id],this.count--),r}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var ns=function(i,t,r,c){function l(p){return p instanceof r?p:new r(function(w){w(p)})}return new(r||(r=Promise))(function(p,w){function I(z){try{j(c.next(z))}catch(G){w(G)}}function O(z){try{j(c.throw(z))}catch(G){w(G)}}function j(z){z.done?p(z.value):l(z.value).then(I,O)}j((c=c.apply(i,t||[])).next())})};class rs extends Ut{constructor(t,r){super(t,r),this.members=new ts}authorize(t,r){super.authorize(t,(c,l)=>ns(this,void 0,void 0,function*(){if(!c)if(l=l,l.channel_data!=null){var p=JSON.parse(l.channel_data);this.members.setMyID(p.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let w=C.buildLogSuffix("authorizationEndpoint");$.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${w}, or the user should be signed in.`),r("Invalid auth response");return}r(c,l)}))}handleEvent(t){var r=t.event;if(r.indexOf("pusher_internal:")===0)this.handleInternalEvent(t);else{var c=t.data,l={};t.user_id&&(l.user_id=t.user_id),this.emit(r,c,l)}}handleInternalEvent(t){var r=t.event,c=t.data;switch(r){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(t);break;case"pusher_internal:member_added":var l=this.members.addMember(c);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var p=this.members.removeMember(c);p&&this.emit("pusher:member_removed",p);break}}handleSubscriptionSucceededEvent(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var is=o(1),Vt=o(0);class ss extends Ut{constructor(t,r,c){super(t,r),this.key=null,this.nacl=c}authorize(t,r){super.authorize(t,(c,l)=>{if(c){r(c,l);return}let p=l.shared_secret;if(!p){r(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Vt.decode)(p),delete l.shared_secret,r(null,l)})}trigger(t,r){throw new q("Client events are not currently supported for encrypted channels")}handleEvent(t){var r=t.event,c=t.data;if(r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0){super.handleEvent(t);return}this.handleEncryptedEvent(r,c)}handleEncryptedEvent(t,r){if(!this.key){$.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!r.ciphertext||!r.nonce){$.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+r);return}let c=Object(Vt.decode)(r.ciphertext);if(c.length<this.nacl.secretbox.overheadLength){$.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${c.length}`);return}let l=Object(Vt.decode)(r.nonce);if(l.length<this.nacl.secretbox.nonceLength){$.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${l.length}`);return}let p=this.nacl.secretbox.open(c,l,this.key);if(p===null){$.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(w,I)=>{if(w){$.error(`Failed to make a request to the authEndpoint: ${I}. Unable to fetch new key, so dropping encrypted event`);return}if(p=this.nacl.secretbox.open(c,l,this.key),p===null){$.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(t,this.getDataToEmit(p))});return}this.emit(t,this.getDataToEmit(p))}getDataToEmit(t){let r=Object(is.decode)(t);try{return JSON.parse(r)}catch{return r}}}class os extends ge{constructor(t,r){super(),this.state="initialized",this.connection=null,this.key=t,this.options=r,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=R.getNetwork();c.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),c.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(t){return this.connection?this.connection.send(t):!1}send_event(t,r,c){return this.connection?this.connection.send_event(t,r,c):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var t=(r,c)=>{r?this.runner=this.strategy.connect(0,t):c.action==="error"?(this.emit("error",{type:"HandshakeError",error:c.error}),this.timeline.error({handshakeError:c.error})):(this.abortConnecting(),this.handshakeCallbacks[c.action](c))};this.runner=this.strategy.connect(0,t)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var t=this.abandonConnection();t.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(t){this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new fe(t||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new fe(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new fe(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new fe(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(t){return te({},t,{message:r=>{this.resetActivityCheck(),this.emit("message",r)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:r=>{this.emit("error",r)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(t){return te({},t,{connected:r=>{this.activityTimeout=Math.min(this.options.activityTimeout,r.activityTimeout,r.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(r.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let t=r=>c=>{c.error&&this.emit("error",{type:"WebSocketError",error:c.error}),r(c)};return{tls_only:t(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:t(()=>{this.disconnect()}),backoff:t(()=>{this.retryIn(1e3)}),retry:t(()=>{this.retryIn(0)})}}setConnection(t){this.connection=t;for(var r in this.connectionCallbacks)this.connection.bind(r,this.connectionCallbacks[r]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var r=this.connection;return this.connection=null,r}}updateState(t,r){var c=this.state;if(this.state=t,c!==t){var l=t;l==="connected"&&(l+=" with new socket ID "+r.socket_id),$.debug("State changed",c+" -> "+l),this.timeline.info({state:t,params:r}),this.emit("state_change",{previous:c,current:t}),this.emit(t,r)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class as{constructor(){this.channels={}}add(t,r){return this.channels[t]||(this.channels[t]=cs(t,r)),this.channels[t]}all(){return Mt(this.channels)}find(t){return this.channels[t]}remove(t){var r=this.channels[t];return delete this.channels[t],r}disconnect(){oe(this.channels,function(t){t.disconnect()})}}function cs(i,t){if(i.indexOf("private-encrypted-")===0){if(t.config.nacl)return me.createEncryptedChannel(i,t,t.config.nacl);let r="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",c=C.buildLogSuffix("encryptedChannelSupport");throw new q(`${r}. ${c}`)}else{if(i.indexOf("private-")===0)return me.createPrivateChannel(i,t);if(i.indexOf("presence-")===0)return me.createPresenceChannel(i,t);if(i.indexOf("#")===0)throw new b('Cannot create a channel with name "'+i+'".');return me.createChannel(i,t)}}var us={createChannels(){return new as},createConnectionManager(i,t){return new os(i,t)},createChannel(i,t){return new Ft(i,t)},createPrivateChannel(i,t){return new Ut(i,t)},createPresenceChannel(i,t){return new rs(i,t)},createEncryptedChannel(i,t,r){return new ss(i,t,r)},createTimelineSender(i,t){return new es(i,t)},createHandshake(i,t){return new Zi(i,t)},createAssistantToTheTransportManager(i,t,r){return new Gi(i,t,r)}},me=us;class Zn{constructor(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}getAssistant(t){return me.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class De{constructor(t,r){this.strategies=t,this.loop=!!r.loop,this.failFast=!!r.failFast,this.timeout=r.timeout,this.timeoutLimit=r.timeoutLimit}isSupported(){return Ye(this.strategies,Z.method("isSupported"))}connect(t,r){var c=this.strategies,l=0,p=this.timeout,w=null,I=(O,j)=>{j?r(null,j):(l=l+1,this.loop&&(l=l%c.length),l<c.length?(p&&(p=p*2,this.timeoutLimit&&(p=Math.min(p,this.timeoutLimit))),w=this.tryStrategy(c[l],t,{timeout:p,failFast:this.failFast},I)):r(!0))};return w=this.tryStrategy(c[l],t,{timeout:p,failFast:this.failFast},I),{abort:function(){w.abort()},forceMinPriority:function(O){t=O,w&&w.forceMinPriority(O)}}}tryStrategy(t,r,c,l){var p=null,w=null;return c.timeout>0&&(p=new fe(c.timeout,function(){w.abort(),l(!0)})),w=t.connect(r,function(I,O){I&&p&&p.isRunning()&&!c.failFast||(p&&p.ensureAborted(),l(I,O))}),{abort:function(){p&&p.ensureAborted(),w.abort()},forceMinPriority:function(I){w.forceMinPriority(I)}}}}class Wt{constructor(t){this.strategies=t}isSupported(){return Ye(this.strategies,Z.method("isSupported"))}connect(t,r){return ls(this.strategies,t,function(c,l){return function(p,w){if(l[c].error=p,p){ds(l)&&r(!0);return}pe(l,function(I){I.forceMinPriority(w.transport.priority)}),r(null,w)}})}}function ls(i,t,r){var c=re(i,function(l,p,w,I){return l.connect(t,r(p,I))});return{abort:function(){pe(c,hs)},forceMinPriority:function(l){pe(c,function(p){p.forceMinPriority(l)})}}}function ds(i){return Ze(i,function(t){return!!t.error})}function hs(i){!i.error&&!i.aborted&&(i.abort(),i.aborted=!0)}class fs{constructor(t,r,c){this.strategy=t,this.transports=r,this.ttl=c.ttl||1800*1e3,this.usingTLS=c.useTLS,this.timeline=c.timeline}isSupported(){return this.strategy.isSupported()}connect(t,r){var c=this.usingTLS,l=ps(c),p=l&&l.cacheSkipCount?l.cacheSkipCount:0,w=[this.strategy];if(l&&l.timestamp+this.ttl>=Z.now()){var I=this.transports[l.transport];I&&(["ws","wss"].includes(l.transport)||p>3?(this.timeline.info({cached:!0,transport:l.transport,latency:l.latency}),w.push(new De([I],{timeout:l.latency*2+1e3,failFast:!0}))):p++)}var O=Z.now(),j=w.pop().connect(t,function z(G,vt){G?(er(c),w.length>0?(O=Z.now(),j=w.pop().connect(t,z)):r(G)):(gs(c,vt.transport.name,Z.now()-O,p),r(null,vt))});return{abort:function(){j.abort()},forceMinPriority:function(z){t=z,j&&j.forceMinPriority(z)}}}}function Kt(i){return"pusherTransport"+(i?"TLS":"NonTLS")}function ps(i){var t=R.getLocalStorage();if(t)try{var r=t[Kt(i)];if(r)return JSON.parse(r)}catch{er(i)}return null}function gs(i,t,r,c){var l=R.getLocalStorage();if(l)try{l[Kt(i)]=_({timestamp:Z.now(),transport:t,latency:r,cacheSkipCount:c})}catch{}}function er(i){var t=R.getLocalStorage();if(t)try{delete t[Kt(i)]}catch{}}class gt{constructor(t,{delay:r}){this.strategy=t,this.options={delay:r}}isSupported(){return this.strategy.isSupported()}connect(t,r){var c=this.strategy,l,p=new fe(this.options.delay,function(){l=c.connect(t,r)});return{abort:function(){p.ensureAborted(),l&&l.abort()},forceMinPriority:function(w){t=w,l&&l.forceMinPriority(w)}}}}class tt{constructor(t,r,c){this.test=t,this.trueBranch=r,this.falseBranch=c}isSupported(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()}connect(t,r){var c=this.test()?this.trueBranch:this.falseBranch;return c.connect(t,r)}}class ms{constructor(t){this.strategy=t}isSupported(){return this.strategy.isSupported()}connect(t,r){var c=this.strategy.connect(t,function(l,p){p&&c.abort(),r(l,p)});return c}}function nt(i){return function(){return i.isSupported()}}var vs=function(i,t,r){var c={};function l(dr,vo,bo,yo,wo){var hr=r(i,dr,vo,bo,yo,wo);return c[dr]=hr,hr}var p=Object.assign({},t,{hostNonTLS:i.wsHost+":"+i.wsPort,hostTLS:i.wsHost+":"+i.wssPort,httpPath:i.wsPath}),w=Object.assign({},p,{useTLS:!0}),I=Object.assign({},t,{hostNonTLS:i.httpHost+":"+i.httpPort,hostTLS:i.httpHost+":"+i.httpsPort,httpPath:i.httpPath}),O={loop:!0,timeout:15e3,timeoutLimit:6e4},j=new Zn({minPingDelay:1e4,maxPingDelay:i.activityTimeout}),z=new Zn({lives:2,minPingDelay:1e4,maxPingDelay:i.activityTimeout}),G=l("ws","ws",3,p,j),vt=l("wss","ws",3,w,j),ho=l("sockjs","sockjs",1,I),sr=l("xhr_streaming","xhr_streaming",1,I,z),fo=l("xdr_streaming","xdr_streaming",1,I,z),or=l("xhr_polling","xhr_polling",1,I),po=l("xdr_polling","xdr_polling",1,I),ar=new De([G],O),go=new De([vt],O),mo=new De([ho],O),cr=new De([new tt(nt(sr),sr,fo)],O),ur=new De([new tt(nt(or),or,po)],O),lr=new De([new tt(nt(cr),new Wt([cr,new gt(ur,{delay:4e3})]),ur)],O),Gt=new tt(nt(lr),lr,mo),Yt;return t.useTLS?Yt=new Wt([ar,new gt(Gt,{delay:2e3})]):Yt=new Wt([ar,new gt(go,{delay:2e3}),new gt(Gt,{delay:5e3})]),new fs(new ms(new tt(nt(G),Yt,Gt)),c,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},bs=vs,ys=(function(){var i=this;i.timeline.info(i.buildTimelineMessage({transport:i.name+(i.options.useTLS?"s":"")})),i.hooks.isInitialized()?i.changeState("initialized"):i.hooks.file?(i.changeState("initializing"),k.load(i.hooks.file,{useTLS:i.options.useTLS},function(t,r){i.hooks.isInitialized()?(i.changeState("initialized"),r(!0)):(t&&i.onError(t),i.onClose(),r(!1))})):i.onClose()}),ws={getRequest:function(i){var t=new window.XDomainRequest;return t.ontimeout=function(){i.emit("error",new y),i.close()},t.onerror=function(r){i.emit("error",r),i.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&i.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&i.onChunk(200,t.responseText),i.emit("finished",200),i.close()},t},abortRequest:function(i){i.ontimeout=i.onerror=i.onprogress=i.onload=null,i.abort()}},_s=ws;const Ss=256*1024;class Cs extends ge{constructor(t,r,c){super(),this.hooks=t,this.method=r,this.url=c}start(t){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},R.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)}close(){this.unloader&&(R.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(t,r){for(;;){var c=this.advanceBuffer(r);if(c)this.emit("chunk",{status:t,data:c});else break}this.isBufferTooLong(r)&&this.emit("buffer_too_long")}advanceBuffer(t){var r=t.slice(this.position),c=r.indexOf(`
`);return c!==-1?(this.position+=c+1,r.slice(0,c)):null}isBufferTooLong(t){return this.position===t.length&&t.length>Ss}}var Qt;(function(i){i[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSED=3]="CLOSED"})(Qt||(Qt={}));var Oe=Qt,Ts=1;class ks{constructor(t,r){this.hooks=t,this.session=nr(1e3)+"/"+xs(8),this.location=Es(r),this.readyState=Oe.CONNECTING,this.openStream()}send(t){return this.sendRaw(JSON.stringify([t]))}ping(){this.hooks.sendHeartbeat(this)}close(t,r){this.onClose(t,r,!0)}sendRaw(t){if(this.readyState===Oe.OPEN)try{return R.createSocketRequest("POST",tr(Is(this.location,this.session))).start(t),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(t,r,c){this.closeStream(),this.readyState=Oe.CLOSED,this.onclose&&this.onclose({code:t,reason:r,wasClean:c})}onChunk(t){if(t.status===200){this.readyState===Oe.OPEN&&this.onActivity();var r,c=t.data.slice(0,1);switch(c){case"o":r=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(r);break;case"a":r=JSON.parse(t.data.slice(1)||"[]");for(var l=0;l<r.length;l++)this.onEvent(r[l]);break;case"m":r=JSON.parse(t.data.slice(1)||"null"),this.onEvent(r);break;case"h":this.hooks.onHeartbeat(this);break;case"c":r=JSON.parse(t.data.slice(1)||"[]"),this.onClose(r[0],r[1],!0);break}}}onOpen(t){this.readyState===Oe.CONNECTING?(t&&t.hostname&&(this.location.base=As(this.location.base,t.hostname)),this.readyState=Oe.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(t){this.readyState===Oe.OPEN&&this.onmessage&&this.onmessage({data:t})}onActivity(){this.onactivity&&this.onactivity()}onError(t){this.onerror&&this.onerror(t)}openStream(){this.stream=R.createSocketRequest("POST",tr(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",t=>{this.onChunk(t)}),this.stream.bind("finished",t=>{this.hooks.onFinished(this,t)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(t){Z.defer(()=>{this.onError(t),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Es(i){var t=/([^\?]*)\/*(\??.*)/.exec(i);return{base:t[1],queryString:t[2]}}function Is(i,t){return i.base+"/"+t+"/xhr_send"}function tr(i){var t=i.indexOf("?")===-1?"?":"&";return i+t+"t="+ +new Date+"&n="+Ts++}function As(i,t){var r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(i);return r[1]+t+r[3]}function nr(i){return R.randomInt(i)}function xs(i){for(var t=[],r=0;r<i;r++)t.push(nr(32).toString(32));return t.join("")}var Ps=ks,Ds={getReceiveURL:function(i,t){return i.base+"/"+t+"/xhr_streaming"+i.queryString},onHeartbeat:function(i){i.sendRaw("[]")},sendHeartbeat:function(i){i.sendRaw("[]")},onFinished:function(i,t){i.onClose(1006,"Connection interrupted ("+t+")",!1)}},Os=Ds,Rs={getReceiveURL:function(i,t){return i.base+"/"+t+"/xhr"+i.queryString},onHeartbeat:function(){},sendHeartbeat:function(i){i.sendRaw("[]")},onFinished:function(i,t){t===200?i.reconnect():i.onClose(1006,"Connection interrupted ("+t+")",!1)}},Ls=Rs,Ns={getRequest:function(i){var t=R.getXHRAPI(),r=new t;return r.onreadystatechange=r.onprogress=function(){switch(r.readyState){case 3:r.responseText&&r.responseText.length>0&&i.onChunk(r.status,r.responseText);break;case 4:r.responseText&&r.responseText.length>0&&i.onChunk(r.status,r.responseText),i.emit("finished",r.status),i.close();break}},r},abortRequest:function(i){i.onreadystatechange=null,i.abort()}},Bs=Ns,Ms={createStreamingSocket(i){return this.createSocket(Os,i)},createPollingSocket(i){return this.createSocket(Ls,i)},createSocket(i,t){return new Ps(i,t)},createXHR(i,t){return this.createRequest(Bs,i,t)},createRequest(i,t,r){return new Cs(i,t,r)}},rr=Ms;rr.createXDR=function(i,t){return this.createRequest(_s,i,t)};var $s=rr,qs={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:d,DependenciesReceivers:g,getDefaultStrategy:bs,Transports:Qi,transportConnectionInitializer:ys,HTTPFactory:$s,TimelineTransport:Ni,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(i){window.Pusher=i;var t=()=>{this.onDocumentBody(i.ready)};window.JSON?t():k.load("json2",{},t)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:P,jsonp:Wn}},onDocumentBody(i){document.body?i():setTimeout(()=>{this.onDocumentBody(i)},0)},createJSONPRequest(i,t){return new Oi(i,t)},createScriptRequest(i){return new Di(i)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var i=this.getXHRAPI();return new i},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Ji},createWebSocket(i){var t=this.getWebSocketAPI();return new t(i)},createSocketRequest(i,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(i,t);if(this.isXDRSupported(t.indexOf("https:")===0))return this.HTTPFactory.createXDR(i,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var i=this.getXHRAPI();return!!i&&new i().withCredentials!==void 0},isXDRSupported(i){var t=i?"https:":"http:",r=this.getProtocol();return!!window.XDomainRequest&&r===t},addUnloadListener(i){window.addEventListener!==void 0?window.addEventListener("unload",i,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",i)},removeUnloadListener(i){window.addEventListener!==void 0?window.removeEventListener("unload",i,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",i)},randomInt(i){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*i)}},R=qs,Xt;(function(i){i[i.ERROR=3]="ERROR",i[i.INFO=6]="INFO",i[i.DEBUG=7]="DEBUG"})(Xt||(Xt={}));var mt=Xt;class Hs{constructor(t,r,c){this.key=t,this.session=r,this.events=[],this.options=c||{},this.sent=0,this.uniqueID=0}log(t,r){t<=this.options.level&&(this.events.push(te({},r,{timestamp:Z.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(t){this.log(mt.ERROR,t)}info(t){this.log(mt.INFO,t)}debug(t){this.log(mt.DEBUG,t)}isEmpty(){return this.events.length===0}send(t,r){var c=te({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(c,(l,p)=>{l||this.sent++,r&&r(l,p)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class js{constructor(t,r,c,l){this.name=t,this.priority=r,this.transport=c,this.options=l||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(t,r){if(this.isSupported()){if(this.priority<t)return ir(new L,r)}else return ir(new W,r);var c=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),p=null,w=function(){l.unbind("initialized",w),l.connect()},I=function(){p=me.createHandshake(l,function(G){c=!0,z(),r(null,G)})},O=function(G){z(),r(G)},j=function(){z();var G;G=_(l),r(new x(G))},z=function(){l.unbind("initialized",w),l.unbind("open",I),l.unbind("error",O),l.unbind("closed",j)};return l.bind("initialized",w),l.bind("open",I),l.bind("error",O),l.bind("closed",j),l.initialize(),{abort:()=>{c||(z(),p?p.close():l.close())},forceMinPriority:G=>{c||this.priority<G&&(p?p.close():l.close())}}}}function ir(i,t){return Z.defer(function(){t(i)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:zs}=R;var Fs=function(i,t,r,c,l,p){var w=zs[r];if(!w)throw new F(r);var I=(!i.enabledTransports||dt(i.enabledTransports,t)!==-1)&&(!i.disabledTransports||dt(i.disabledTransports,t)===-1),O;return I?(l=Object.assign({ignoreNullOrigin:i.ignoreNullOrigin},l),O=new js(t,c,p?p.getAssistant(w):w,l)):O=Us,O},Us={isSupported:function(){return!1},connect:function(i,t){var r=Z.defer(function(){t(new W)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function Vs(i){if(i==null)throw"You must pass an options object";if(i.cluster==null)throw"Options object must provide a cluster";"disableStats"in i&&$.warn("The disableStats option is deprecated in favor of enableStats")}const Ws=(i,t)=>{var r="socket_id="+encodeURIComponent(i.socketId);for(var c in t.params)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(t.params[c]);if(t.paramsProvider!=null){let l=t.paramsProvider();for(var c in l)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(l[c])}return r};var Ks=i=>{if(typeof R.getAuthorizers()[i.transport]>"u")throw`'${i.transport}' is not a recognized auth transport`;return(t,r)=>{const c=Ws(t,i);R.getAuthorizers()[i.transport](R,c,i,E.UserAuthentication,r)}};const Qs=(i,t)=>{var r="socket_id="+encodeURIComponent(i.socketId);r+="&channel_name="+encodeURIComponent(i.channelName);for(var c in t.params)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(t.params[c]);if(t.paramsProvider!=null){let l=t.paramsProvider();for(var c in l)r+="&"+encodeURIComponent(c)+"="+encodeURIComponent(l[c])}return r};var Xs=i=>{if(typeof R.getAuthorizers()[i.transport]>"u")throw`'${i.transport}' is not a recognized auth transport`;return(t,r)=>{const c=Qs(t,i);R.getAuthorizers()[i.transport](R,c,i,E.ChannelAuthorization,r)}};const Js=(i,t,r)=>{const c={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(l,p)=>{const w=i.channel(l.channelName);r(w,c).authorize(l.socketId,p)}};function Gs(i,t){let r={activityTimeout:i.activityTimeout||h.activityTimeout,cluster:i.cluster,httpPath:i.httpPath||h.httpPath,httpPort:i.httpPort||h.httpPort,httpsPort:i.httpsPort||h.httpsPort,pongTimeout:i.pongTimeout||h.pongTimeout,statsHost:i.statsHost||h.stats_host,unavailableTimeout:i.unavailableTimeout||h.unavailableTimeout,wsPath:i.wsPath||h.wsPath,wsPort:i.wsPort||h.wsPort,wssPort:i.wssPort||h.wssPort,enableStats:no(i),httpHost:Ys(i),useTLS:to(i),wsHost:Zs(i),userAuthenticator:ro(i),channelAuthorizer:so(i,t)};return"disabledTransports"in i&&(r.disabledTransports=i.disabledTransports),"enabledTransports"in i&&(r.enabledTransports=i.enabledTransports),"ignoreNullOrigin"in i&&(r.ignoreNullOrigin=i.ignoreNullOrigin),"timelineParams"in i&&(r.timelineParams=i.timelineParams),"nacl"in i&&(r.nacl=i.nacl),r}function Ys(i){return i.httpHost?i.httpHost:i.cluster?`sockjs-${i.cluster}.pusher.com`:h.httpHost}function Zs(i){return i.wsHost?i.wsHost:eo(i.cluster)}function eo(i){return`ws-${i}.pusher.com`}function to(i){return R.getProtocol()==="https:"?!0:i.forceTLS!==!1}function no(i){return"enableStats"in i?i.enableStats:"disableStats"in i?!i.disableStats:!1}function ro(i){const t=Object.assign(Object.assign({},h.userAuthentication),i.userAuthentication);return"customHandler"in t&&t.customHandler!=null?t.customHandler:Ks(t)}function io(i,t){let r;return"channelAuthorization"in i?r=Object.assign(Object.assign({},h.channelAuthorization),i.channelAuthorization):(r={transport:i.authTransport||h.authTransport,endpoint:i.authEndpoint||h.authEndpoint},"auth"in i&&("params"in i.auth&&(r.params=i.auth.params),"headers"in i.auth&&(r.headers=i.auth.headers)),"authorizer"in i&&(r.customHandler=Js(t,r,i.authorizer))),r}function so(i,t){const r=io(i,t);return"customHandler"in r&&r.customHandler!=null?r.customHandler:Xs(r)}class oo extends ge{constructor(t){super(function(r,c){$.debug(`No callbacks on watchlist events for ${r}`)}),this.pusher=t,this.bindWatchlistInternalEvent()}handleEvent(t){t.data.events.forEach(r=>{this.emit(r.name,r)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",t=>{var r=t.event;r==="pusher_internal:watchlist_events"&&this.handleEvent(t)})}}function ao(){let i,t;return{promise:new Promise((c,l)=>{i=c,t=l}),resolve:i,reject:t}}var co=ao;class uo extends ge{constructor(t){super(function(r,c){$.debug("No callbacks on user for "+r)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(r,c)=>{if(r){$.warn(`Error during signin: ${r}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:c.auth,user_data:c.user_data})},this.pusher=t,this.pusher.connection.bind("state_change",({previous:r,current:c})=>{r!=="connected"&&c==="connected"&&this._signin(),r==="connected"&&c!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new oo(t),this.pusher.connection.bind("message",r=>{var c=r.event;c==="pusher:signin_success"&&this._onSigninSuccess(r.data),this.serverToUserChannel&&this.serverToUserChannel.name===r.channel&&this.serverToUserChannel.handleEvent(r)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(t){try{this.user_data=JSON.parse(t.user_data)}catch{$.error(`Failed parsing user data after signin: ${t.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){$.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const t=r=>{r.subscriptionPending&&r.subscriptionCancelled?r.reinstateSubscription():!r.subscriptionPending&&this.pusher.connection.state==="connected"&&r.subscribe()};this.serverToUserChannel=new Ft(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((r,c)=>{r.indexOf("pusher_internal:")===0||r.indexOf("pusher:")===0||this.emit(r,c)}),t(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:t,resolve:r}=co();t.done=!1;const c=()=>{t.done=!0};t.then(c).catch(c),this.signinDonePromise=t,this._signinDoneResolve=r}}class ee{static ready(){ee.isReady=!0;for(var t=0,r=ee.instances.length;t<r;t++)ee.instances[t].connect()}static getClientFeatures(){return ht(ft({ws:R.Transports.ws},function(t){return t.isSupported({})}))}constructor(t,r){lo(t),Vs(r),this.key=t,this.config=Gs(r,this),this.channels=me.createChannels(),this.global_emitter=new ge,this.sessionID=R.randomInt(1e9),this.timeline=new Hs(this.key,this.sessionID,{cluster:this.config.cluster,features:ee.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:mt.INFO,version:h.VERSION}),this.config.enableStats&&(this.timelineSender=me.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+R.TimelineTransport.name}));var c=l=>R.getDefaultStrategy(this.config,l,Fs);this.connection=me.createConnectionManager(this.key,{getStrategy:c,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",l=>{var p=l.event,w=p.indexOf("pusher_internal:")===0;if(l.channel){var I=this.channel(l.channel);I&&I.handleEvent(l)}w||this.global_emitter.emit(l.event,l.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",l=>{$.warn(l)}),ee.instances.push(this),this.timeline.info({instances:ee.instances.length}),this.user=new uo(this),ee.isReady&&this.connect()}channel(t){return this.channels.find(t)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),r=this.timelineSender;this.timelineSenderTimer=new lt(6e4,function(){r.send(t)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(t,r,c){return this.global_emitter.bind(t,r,c),this}unbind(t,r,c){return this.global_emitter.unbind(t,r,c),this}bind_global(t){return this.global_emitter.bind_global(t),this}unbind_global(t){return this.global_emitter.unbind_global(t),this}unbind_all(t){return this.global_emitter.unbind_all(),this}subscribeAll(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)}subscribe(t){var r=this.channels.add(t,this);return r.subscriptionPending&&r.subscriptionCancelled?r.reinstateSubscription():!r.subscriptionPending&&this.connection.state==="connected"&&r.subscribe(),r}unsubscribe(t){var r=this.channels.find(t);r&&r.subscriptionPending?r.cancelSubscription():(r=this.channels.remove(t),r&&r.subscribed&&r.unsubscribe())}send_event(t,r,c){return this.connection.send_event(t,r,c)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}ee.instances=[],ee.isReady=!1,ee.logToConsole=!1,ee.Runtime=R,ee.ScriptReceivers=R.ScriptReceivers,ee.DependenciesReceivers=R.DependenciesReceivers,ee.auth_callbacks=R.auth_callbacks;var Jt=a.default=ee;function lo(i){if(i==null)throw"You must pass your app key when you instantiate Pusher."}R.setup(ee)})])})})(cn)),cn.exports}aa();const ca=Kr("pusher",()=>{let e=null,n=null;function s(){const o=Ln();if(!o.getUser()||!o.token||e)return;e=new window.Pusher("d842d9bd852a8bbc74b0",{cluster:"eu",authEndpoint:"https://crypt-talk.online/api/pusher/auth",auth:{headers:{Authorization:`Bearer ${o.token}`}}}),n=e.subscribe(`private-user-${o.getUser().id}`);const d=Qr();n.bind("message.sent",m=>{d.receiveMessage(m.message)}),n.bind("conversation.started",m=>{d.newConversationStarted()})}function a(){e&&(e.disconnect(),e=null,n=null)}return{init:s,disconnect:a}}),ua=()=>{};var Tr={};const Jr=function(e){const n=[];let s=0;for(let a=0;a<e.length;a++){let o=e.charCodeAt(a);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++a)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},la=function(e){const n=[];let s=0,a=0;for(;s<e.length;){const o=e[s++];if(o<128)n[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[s++];n[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[s++],d=e[s++],m=e[s++],h=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;n[a++]=String.fromCharCode(55296+(h>>10)),n[a++]=String.fromCharCode(56320+(h&1023))}else{const u=e[s++],d=e[s++];n[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return n.join("")},Gr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<e.length;o+=3){const u=e[o],d=o+1<e.length,m=d?e[o+1]:0,h=o+2<e.length,f=h?e[o+2]:0,g=u>>2,k=(u&3)<<4|m>>4;let T=(m&15)<<2|f>>6,S=f&63;h||(S=64,d||(T=64)),a.push(s[g],s[k],s[T],s[S])}return a.join("")},encodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(Jr(e),n)},decodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):la(this.decodeStringToByteArray(e,n))},decodeStringToByteArray(e,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<e.length;){const u=s[e.charAt(o++)],m=o<e.length?s[e.charAt(o)]:0;++o;const f=o<e.length?s[e.charAt(o)]:64;++o;const k=o<e.length?s[e.charAt(o)]:64;if(++o,u==null||m==null||f==null||k==null)throw new da;const T=u<<2|m>>4;if(a.push(T),f!==64){const S=m<<4&240|f>>2;if(a.push(S),k!==64){const C=f<<6&192|k;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class da extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ha=function(e){const n=Jr(e);return Gr.encodeByteArray(n,!0)},Yr=function(e){return ha(e).replace(/\./g,"")},fa=function(e){try{return Gr.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function pa(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ga=()=>pa().__FIREBASE_DEFAULTS__,ma=()=>{if(typeof process>"u"||typeof Tr>"u")return;const e=Tr.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},va=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=e&&fa(e[1]);return n&&JSON.parse(n)},ba=()=>{try{return ua()||ga()||ma()||va()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Zr=()=>ba()?.config;class ya{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,a))}}}function ei(){try{return typeof indexedDB=="object"}catch{return!1}}function ti(){return new Promise((e,n)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(s){n(s)}})}function wa(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const _a="FirebaseError";class Xe extends Error{constructor(n,s,a){super(s),this.code=n,this.customData=a,this.name=_a,Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(n,s,a){this.service=n,this.serviceName=s,this.errors=a}create(n,...s){const a=s[0]||{},o=`${this.service}/${n}`,u=this.errors[n],d=u?Sa(u,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Xe(o,m,a)}}function Sa(e,n){return e.replace(Ca,(s,a)=>{const o=n[a];return o!=null?String(o):`<${a}?>`})}const Ca=/\{\$([^}]+)}/g;function Cn(e,n){if(e===n)return!0;const s=Object.keys(e),a=Object.keys(n);for(const o of s){if(!a.includes(o))return!1;const u=e[o],d=n[o];if(kr(u)&&kr(d)){if(!Cn(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function kr(e){return e!==null&&typeof e=="object"}function Bn(e){return e&&e._delegate?e._delegate:e}class Ae{constructor(n,s,a){this.name=n,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ne="[DEFAULT]";class Ta{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const a=new ya;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n?.identifier),a=n?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Ea(n))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(n=Ne){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ne){return this.instances.has(n)}getOptions(n=Ne){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(o)}return o}onInit(n,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(n),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&n(u,a),()=>{o.delete(n)}}invokeOnInitCallbacks(n,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ka(n),options:s}),this.instances.set(n,a),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null}normalizeInstanceIdentifier(n=Ne){return this.component?this.component.multipleInstances?n:Ne:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ka(e){return e===Ne?void 0:e}function Ea(e){return e.instantiationMode==="EAGER"}class Ia{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new Ta(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}var V;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(V||(V={}));const Aa={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},xa=V.INFO,Pa={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Da=(e,n,...s)=>{if(n<e.logLevel)return;const a=new Date().toISOString(),o=Pa[n];if(o)console[o](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Oa{constructor(n){this.name=n,this._logLevel=xa,this._logHandler=Da,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in V))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Aa[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...n),this._logHandler(this,V.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...n),this._logHandler(this,V.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,V.INFO,...n),this._logHandler(this,V.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,V.WARN,...n),this._logHandler(this,V.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...n),this._logHandler(this,V.ERROR,...n)}}const Ra=(e,n)=>n.some(s=>e instanceof s);let Er,Ir;function La(){return Er||(Er=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Na(){return Ir||(Ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ni=new WeakMap,Tn=new WeakMap,ri=new WeakMap,un=new WeakMap,Mn=new WeakMap;function Ba(e){const n=new Promise((s,a)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",d)},u=()=>{s(ye(e.result)),o()},d=()=>{a(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",d)});return n.then(s=>{s instanceof IDBCursor&&ni.set(s,e)}).catch(()=>{}),Mn.set(n,e),n}function Ma(e){if(Tn.has(e))return;const n=new Promise((s,a)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",d),e.removeEventListener("abort",d)},u=()=>{s(),o()},d=()=>{a(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",d),e.addEventListener("abort",d)});Tn.set(e,n)}let kn={get(e,n,s){if(e instanceof IDBTransaction){if(n==="done")return Tn.get(e);if(n==="objectStoreNames")return e.objectStoreNames||ri.get(e);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return ye(e[n])},set(e,n,s){return e[n]=s,!0},has(e,n){return e instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in e}};function $a(e){kn=e(kn)}function qa(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const a=e.call(ln(this),n,...s);return ri.set(a,n.sort?n.sort():[n]),ye(a)}:Na().includes(e)?function(...n){return e.apply(ln(this),n),ye(ni.get(this))}:function(...n){return ye(e.apply(ln(this),n))}}function Ha(e){return typeof e=="function"?qa(e):(e instanceof IDBTransaction&&Ma(e),Ra(e,La())?new Proxy(e,kn):e)}function ye(e){if(e instanceof IDBRequest)return Ba(e);if(un.has(e))return un.get(e);const n=Ha(e);return n!==e&&(un.set(e,n),Mn.set(n,e)),n}const ln=e=>Mn.get(e);function Pt(e,n,{blocked:s,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(e,n),m=ye(d);return a&&d.addEventListener("upgradeneeded",h=>{a(ye(d.result),h.oldVersion,h.newVersion,ye(d.transaction),h)}),s&&d.addEventListener("blocked",h=>s(h.oldVersion,h.newVersion,h)),m.then(h=>{u&&h.addEventListener("close",()=>u()),o&&h.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),m}function dn(e,{blocked:n}={}){const s=indexedDB.deleteDatabase(e);return n&&s.addEventListener("blocked",a=>n(a.oldVersion,a)),ye(s).then(()=>{})}const ja=["get","getKey","getAll","getAllKeys","count"],za=["put","add","delete","clear"],hn=new Map;function Ar(e,n){if(!(e instanceof IDBDatabase&&!(n in e)&&typeof n=="string"))return;if(hn.get(n))return hn.get(n);const s=n.replace(/FromIndex$/,""),a=n!==s,o=za.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ja.includes(s)))return;const u=async function(d,...m){const h=this.transaction(d,o?"readwrite":"readonly");let f=h.store;return a&&(f=f.index(m.shift())),(await Promise.all([f[s](...m),o&&h.done]))[0]};return hn.set(n,u),u}$a(e=>({...e,get:(n,s,a)=>Ar(n,s)||e.get(n,s,a),has:(n,s)=>!!Ar(n,s)||e.has(n,s)}));class Fa{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Ua(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function Ua(e){return e.getComponent()?.type==="VERSION"}const En="@firebase/app",xr="0.14.8";const we=new Oa("@firebase/app"),Va="@firebase/app-compat",Wa="@firebase/analytics-compat",Ka="@firebase/analytics",Qa="@firebase/app-check-compat",Xa="@firebase/app-check",Ja="@firebase/auth",Ga="@firebase/auth-compat",Ya="@firebase/database",Za="@firebase/data-connect",ec="@firebase/database-compat",tc="@firebase/functions",nc="@firebase/functions-compat",rc="@firebase/installations",ic="@firebase/installations-compat",sc="@firebase/messaging",oc="@firebase/messaging-compat",ac="@firebase/performance",cc="@firebase/performance-compat",uc="@firebase/remote-config",lc="@firebase/remote-config-compat",dc="@firebase/storage",hc="@firebase/storage-compat",fc="@firebase/firestore",pc="@firebase/ai",gc="@firebase/firestore-compat",mc="firebase";const In="[DEFAULT]",vc={[En]:"fire-core",[Va]:"fire-core-compat",[Ka]:"fire-analytics",[Wa]:"fire-analytics-compat",[Xa]:"fire-app-check",[Qa]:"fire-app-check-compat",[Ja]:"fire-auth",[Ga]:"fire-auth-compat",[Ya]:"fire-rtdb",[Za]:"fire-data-connect",[ec]:"fire-rtdb-compat",[tc]:"fire-fn",[nc]:"fire-fn-compat",[rc]:"fire-iid",[ic]:"fire-iid-compat",[sc]:"fire-fcm",[oc]:"fire-fcm-compat",[ac]:"fire-perf",[cc]:"fire-perf-compat",[uc]:"fire-rc",[lc]:"fire-rc-compat",[dc]:"fire-gcs",[hc]:"fire-gcs-compat",[fc]:"fire-fst",[gc]:"fire-fst-compat",[pc]:"fire-vertex","fire-js":"fire-js",[mc]:"fire-js-all"};const Et=new Map,bc=new Map,An=new Map;function Pr(e,n){try{e.container.addComponent(n)}catch(s){we.debug(`Component ${n.name} failed to register with FirebaseApp ${e.name}`,s)}}function Me(e){const n=e.name;if(An.has(n))return we.debug(`There were multiple attempts to register component ${n}.`),!1;An.set(n,e);for(const s of Et.values())Pr(s,e);for(const s of bc.values())Pr(s,e);return!0}function $n(e,n){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(n)}const yc={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ee=new xt("app","Firebase",yc);class wc{constructor(n,s,a){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ae("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ee.create("app-deleted",{appName:this._name})}}function ii(e,n={}){let s=e;typeof n!="object"&&(n={name:n});const a={name:In,automaticDataCollectionEnabled:!0,...n},o=a.name;if(typeof o!="string"||!o)throw Ee.create("bad-app-name",{appName:String(o)});if(s||(s=Zr()),!s)throw Ee.create("no-options");const u=Et.get(o);if(u){if(Cn(s,u.options)&&Cn(a,u.config))return u;throw Ee.create("duplicate-app",{appName:o})}const d=new Ia(o);for(const h of An.values())d.addComponent(h);const m=new wc(s,a,d);return Et.set(o,m),m}function _c(e=In){const n=Et.get(e);if(!n&&e===In&&Zr())return ii();if(!n)throw Ee.create("no-app",{appName:e});return n}function Ie(e,n,s){let a=vc[e]??e;s&&(a+=`-${s}`);const o=a.match(/\s|\//),u=n.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${n}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),we.warn(d.join(" "));return}Me(new Ae(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}const Sc="firebase-heartbeat-database",Cc=1,st="firebase-heartbeat-store";let fn=null;function si(){return fn||(fn=Pt(Sc,Cc,{upgrade:(e,n)=>{switch(n){case 0:try{e.createObjectStore(st)}catch(s){console.warn(s)}}}}).catch(e=>{throw Ee.create("idb-open",{originalErrorMessage:e.message})})),fn}async function Tc(e){try{const s=(await si()).transaction(st),a=await s.objectStore(st).get(oi(e));return await s.done,a}catch(n){if(n instanceof Xe)we.warn(n.message);else{const s=Ee.create("idb-get",{originalErrorMessage:n?.message});we.warn(s.message)}}}async function Dr(e,n){try{const a=(await si()).transaction(st,"readwrite");await a.objectStore(st).put(n,oi(e)),await a.done}catch(s){if(s instanceof Xe)we.warn(s.message);else{const a=Ee.create("idb-set",{originalErrorMessage:s?.message});we.warn(a.message)}}}function oi(e){return`${e.name}!${e.options.appId}`}const kc=1024,Ec=30;class Ic{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new xc(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Or();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Ec){const o=Pc(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){we.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Or(),{heartbeatsToSend:s,unsentEntries:a}=Ac(this._heartbeatsCache.heartbeats),o=Yr(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return we.warn(n),""}}}function Or(){return new Date().toISOString().substring(0,10)}function Ac(e,n=kc){const s=[];let a=e.slice();for(const o of e){const u=s.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Rr(s)>n){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Rr(s)>n){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class xc{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ei()?ti().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Tc(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return Dr(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return Dr(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...n.heartbeats]})}else return}}function Rr(e){return Yr(JSON.stringify({version:2,heartbeats:e})).length}function Pc(e){if(e.length===0)return-1;let n=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,n=a);return n}function Dc(e){Me(new Ae("platform-logger",n=>new Fa(n),"PRIVATE")),Me(new Ae("heartbeat",n=>new Ic(n),"PRIVATE")),Ie(En,xr,e),Ie(En,xr,"esm2020"),Ie("fire-js","")}Dc("");var Oc="firebase",Rc="12.9.0";Ie(Oc,Rc,"app");const ai="@firebase/installations",qn="0.6.19";const ci=1e4,ui=`w:${qn}`,li="FIS_v2",Lc="https://firebaseinstallations.googleapis.com/v1",Nc=3600*1e3,Bc="installations",Mc="Installations";const $c={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$e=new xt(Bc,Mc,$c);function di(e){return e instanceof Xe&&e.code.includes("request-failed")}function hi({projectId:e}){return`${Lc}/projects/${e}/installations`}function fi(e){return{token:e.token,requestStatus:2,expiresIn:Hc(e.expiresIn),creationTime:Date.now()}}async function pi(e,n){const a=(await n.json()).error;return $e.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function gi({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function qc(e,{refreshToken:n}){const s=gi(e);return s.append("Authorization",jc(n)),s}async function mi(e){const n=await e();return n.status>=500&&n.status<600?e():n}function Hc(e){return Number(e.replace("s","000"))}function jc(e){return`${li} ${e}`}async function zc({appConfig:e,heartbeatServiceProvider:n},{fid:s}){const a=hi(e),o=gi(e),u=n.getImmediate({optional:!0});if(u){const f=await u.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const d={fid:s,authVersion:li,appId:e.appId,sdkVersion:ui},m={method:"POST",headers:o,body:JSON.stringify(d)},h=await mi(()=>fetch(a,m));if(h.ok){const f=await h.json();return{fid:f.fid||s,registrationStatus:2,refreshToken:f.refreshToken,authToken:fi(f.authToken)}}else throw await pi("Create Installation",h)}function vi(e){return new Promise(n=>{setTimeout(n,e)})}function Fc(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const Uc=/^[cdef][\w-]{21}$/,xn="";function Vc(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=Wc(e);return Uc.test(s)?s:xn}catch{return xn}}function Wc(e){return Fc(e).substr(0,22)}function Dt(e){return`${e.appName}!${e.appId}`}const bi=new Map;function yi(e,n){const s=Dt(e);wi(s,n),Kc(s,n)}function wi(e,n){const s=bi.get(e);if(s)for(const a of s)a(n)}function Kc(e,n){const s=Qc();s&&s.postMessage({key:e,fid:n}),Xc()}let Be=null;function Qc(){return!Be&&"BroadcastChannel"in self&&(Be=new BroadcastChannel("[Firebase] FID Change"),Be.onmessage=e=>{wi(e.data.key,e.data.fid)}),Be}function Xc(){bi.size===0&&Be&&(Be.close(),Be=null)}const Jc="firebase-installations-database",Gc=1,qe="firebase-installations-store";let pn=null;function Hn(){return pn||(pn=Pt(Jc,Gc,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(qe)}}})),pn}async function It(e,n){const s=Dt(e),o=(await Hn()).transaction(qe,"readwrite"),u=o.objectStore(qe),d=await u.get(s);return await u.put(n,s),await o.done,(!d||d.fid!==n.fid)&&yi(e,n.fid),n}async function _i(e){const n=Dt(e),a=(await Hn()).transaction(qe,"readwrite");await a.objectStore(qe).delete(n),await a.done}async function Ot(e,n){const s=Dt(e),o=(await Hn()).transaction(qe,"readwrite"),u=o.objectStore(qe),d=await u.get(s),m=n(d);return m===void 0?await u.delete(s):await u.put(m,s),await o.done,m&&(!d||d.fid!==m.fid)&&yi(e,m.fid),m}async function jn(e){let n;const s=await Ot(e.appConfig,a=>{const o=Yc(a),u=Zc(e,o);return n=u.registrationPromise,u.installationEntry});return s.fid===xn?{installationEntry:await n}:{installationEntry:s,registrationPromise:n}}function Yc(e){const n=e||{fid:Vc(),registrationStatus:0};return Si(n)}function Zc(e,n){if(n.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($e.create("app-offline"));return{installationEntry:n,registrationPromise:o}}const s={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},a=eu(e,s);return{installationEntry:s,registrationPromise:a}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:tu(e)}:{installationEntry:n}}async function eu(e,n){try{const s=await zc(e,n);return It(e.appConfig,s)}catch(s){throw di(s)&&s.customData.serverCode===409?await _i(e.appConfig):await It(e.appConfig,{fid:n.fid,registrationStatus:0}),s}}async function tu(e){let n=await Lr(e.appConfig);for(;n.registrationStatus===1;)await vi(100),n=await Lr(e.appConfig);if(n.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await jn(e);return a||s}return n}function Lr(e){return Ot(e,n=>{if(!n)throw $e.create("installation-not-found");return Si(n)})}function Si(e){return nu(e)?{fid:e.fid,registrationStatus:0}:e}function nu(e){return e.registrationStatus===1&&e.registrationTime+ci<Date.now()}async function ru({appConfig:e,heartbeatServiceProvider:n},s){const a=iu(e,s),o=qc(e,s),u=n.getImmediate({optional:!0});if(u){const f=await u.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const d={installation:{sdkVersion:ui,appId:e.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},h=await mi(()=>fetch(a,m));if(h.ok){const f=await h.json();return fi(f)}else throw await pi("Generate Auth Token",h)}function iu(e,{fid:n}){return`${hi(e)}/${n}/authTokens:generate`}async function zn(e,n=!1){let s;const a=await Ot(e.appConfig,u=>{if(!Ci(u))throw $e.create("not-registered");const d=u.authToken;if(!n&&au(d))return u;if(d.requestStatus===1)return s=su(e,n),u;{if(!navigator.onLine)throw $e.create("app-offline");const m=uu(u);return s=ou(e,m),m}});return s?await s:a.authToken}async function su(e,n){let s=await Nr(e.appConfig);for(;s.authToken.requestStatus===1;)await vi(100),s=await Nr(e.appConfig);const a=s.authToken;return a.requestStatus===0?zn(e,n):a}function Nr(e){return Ot(e,n=>{if(!Ci(n))throw $e.create("not-registered");const s=n.authToken;return lu(s)?{...n,authToken:{requestStatus:0}}:n})}async function ou(e,n){try{const s=await ru(e,n),a={...n,authToken:s};return await It(e.appConfig,a),s}catch(s){if(di(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await _i(e.appConfig);else{const a={...n,authToken:{requestStatus:0}};await It(e.appConfig,a)}throw s}}function Ci(e){return e!==void 0&&e.registrationStatus===2}function au(e){return e.requestStatus===2&&!cu(e)}function cu(e){const n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+Nc}function uu(e){const n={requestStatus:1,requestTime:Date.now()};return{...e,authToken:n}}function lu(e){return e.requestStatus===1&&e.requestTime+ci<Date.now()}async function du(e){const n=e,{installationEntry:s,registrationPromise:a}=await jn(n);return a?a.catch(console.error):zn(n).catch(console.error),s.fid}async function hu(e,n=!1){const s=e;return await fu(s),(await zn(s,n)).token}async function fu(e){const{registrationPromise:n}=await jn(e);n&&await n}function pu(e){if(!e||!e.options)throw gn("App Configuration");if(!e.name)throw gn("App Name");const n=["projectId","apiKey","appId"];for(const s of n)if(!e.options[s])throw gn(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function gn(e){return $e.create("missing-app-config-values",{valueName:e})}const Ti="installations",gu="installations-internal",mu=e=>{const n=e.getProvider("app").getImmediate(),s=pu(n),a=$n(n,"heartbeat");return{app:n,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},vu=e=>{const n=e.getProvider("app").getImmediate(),s=$n(n,Ti).getImmediate();return{getId:()=>du(s),getToken:o=>hu(s,o)}};function bu(){Me(new Ae(Ti,mu,"PUBLIC")),Me(new Ae(gu,vu,"PRIVATE"))}bu();Ie(ai,qn);Ie(ai,qn,"esm2020");const yu="/firebase-messaging-sw.js",wu="/firebase-cloud-messaging-push-scope",ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_u="https://fcmregistrations.googleapis.com/v1",Ei="google.c.a.c_id",Su="google.c.a.c_l",Cu="google.c.a.ts",Tu="google.c.a.e",Br=1e4;var Mr;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Mr||(Mr={}));var ot;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(ot||(ot={}));function ve(e){const n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ku(e){const n="=".repeat((4-e.length%4)%4),s=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),o=new Uint8Array(a.length);for(let u=0;u<a.length;++u)o[u]=a.charCodeAt(u);return o}const mn="fcm_token_details_db",Eu=5,$r="fcm_token_object_Store";async function Iu(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(mn))return null;let n=null;return(await Pt(mn,Eu,{upgrade:async(a,o,u,d)=>{if(o<2||!a.objectStoreNames.contains($r))return;const m=d.objectStore($r),h=await m.index("fcmSenderId").get(e);if(await m.clear(),!!h){if(o===2){const f=h;if(!f.auth||!f.p256dh||!f.endpoint)return;n={token:f.fcmToken,createTime:f.createTime??Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:ve(f.vapidKey)}}}else if(o===3){const f=h;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ve(f.auth),p256dh:ve(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ve(f.vapidKey)}}}else if(o===4){const f=h;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ve(f.auth),p256dh:ve(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ve(f.vapidKey)}}}}}})).close(),await dn(mn),await dn("fcm_vapid_details_db"),await dn("undefined"),Au(n)?n:null}function Au(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:n}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}const xu="firebase-messaging-database",Pu=1,at="firebase-messaging-store";let vn=null;function Ii(){return vn||(vn=Pt(xu,Pu,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(at)}}})),vn}async function Du(e){const n=Ai(e),a=await(await Ii()).transaction(at).objectStore(at).get(n);if(a)return a;{const o=await Iu(e.appConfig.senderId);if(o)return await Fn(e,o),o}}async function Fn(e,n){const s=Ai(e),o=(await Ii()).transaction(at,"readwrite");return await o.objectStore(at).put(n,s),await o.done,n}function Ai({appConfig:e}){return e.appId}const Ou={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ne=new xt("messaging","Messaging",Ou);async function Ru(e,n){const s=await Vn(e),a=xi(n),o={method:"POST",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(Un(e.appConfig),o)).json()}catch(d){throw ne.create("token-subscribe-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw ne.create("token-subscribe-failed",{errorInfo:d})}if(!u.token)throw ne.create("token-subscribe-no-token");return u.token}async function Lu(e,n){const s=await Vn(e),a=xi(n.subscriptionOptions),o={method:"PATCH",headers:s,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${Un(e.appConfig)}/${n.token}`,o)).json()}catch(d){throw ne.create("token-update-failed",{errorInfo:d?.toString()})}if(u.error){const d=u.error.message;throw ne.create("token-update-failed",{errorInfo:d})}if(!u.token)throw ne.create("token-update-no-token");return u.token}async function Nu(e,n){const a={method:"DELETE",headers:await Vn(e)};try{const u=await(await fetch(`${Un(e.appConfig)}/${n}`,a)).json();if(u.error){const d=u.error.message;throw ne.create("token-unsubscribe-failed",{errorInfo:d})}}catch(o){throw ne.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function Un({projectId:e}){return`${_u}/projects/${e}/registrations`}async function Vn({appConfig:e,installations:n}){const s=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function xi({p256dh:e,auth:n,endpoint:s,vapidKey:a}){const o={web:{endpoint:s,auth:n,p256dh:e}};return a!==ki&&(o.web.applicationPubKey=a),o}const Bu=10080*60*1e3;async function Mu(e){const n=await qu(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:ve(n.getKey("auth")),p256dh:ve(n.getKey("p256dh"))},a=await Du(e.firebaseDependencies);if(a){if(Hu(a.subscriptionOptions,s))return Date.now()>=a.createTime+Bu?$u(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await Nu(e.firebaseDependencies,a.token)}catch(o){console.warn(o)}return qr(e.firebaseDependencies,s)}else return qr(e.firebaseDependencies,s)}async function $u(e,n){try{const s=await Lu(e.firebaseDependencies,n),a={...n,token:s,createTime:Date.now()};return await Fn(e.firebaseDependencies,a),s}catch(s){throw s}}async function qr(e,n){const a={token:await Ru(e,n),createTime:Date.now(),subscriptionOptions:n};return await Fn(e,a),a.token}async function qu(e,n){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ku(n)})}function Hu(e,n){const s=n.vapidKey===e.vapidKey,a=n.endpoint===e.endpoint,o=n.auth===e.auth,u=n.p256dh===e.p256dh;return s&&a&&o&&u}function Hr(e){const n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return ju(n,e),zu(n,e),Fu(n,e),n}function ju(e,n){if(!n.notification)return;e.notification={};const s=n.notification.title;s&&(e.notification.title=s);const a=n.notification.body;a&&(e.notification.body=a);const o=n.notification.image;o&&(e.notification.image=o);const u=n.notification.icon;u&&(e.notification.icon=u)}function zu(e,n){n.data&&(e.data=n.data)}function Fu(e,n){if(!n.fcmOptions&&!n.notification?.click_action)return;e.fcmOptions={};const s=n.fcmOptions?.link??n.notification?.click_action;s&&(e.fcmOptions.link=s);const a=n.fcmOptions?.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}function Uu(e){return typeof e=="object"&&!!e&&Ei in e}function Vu(e){if(!e||!e.options)throw bn("App Configuration Object");if(!e.name)throw bn("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of n)if(!s[a])throw bn(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function bn(e){return ne.create("missing-app-config-values",{valueName:e})}class Wu{constructor(n,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=Vu(n);this.firebaseDependencies={app:n,appConfig:o,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}async function Ku(e){try{e.swRegistration=await navigator.serviceWorker.register(yu,{scope:wu}),e.swRegistration.update().catch(()=>{}),await Qu(e.swRegistration)}catch(n){throw ne.create("failed-service-worker-registration",{browserErrorMessage:n?.message})}}async function Qu(e){return new Promise((n,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${Br} ms`)),Br),o=e.installing||e.waiting;e.active?(clearTimeout(a),n()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(a),n())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}async function Xu(e,n){if(!n&&!e.swRegistration&&await Ku(e),!(!n&&e.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw ne.create("invalid-sw-registration");e.swRegistration=n}}async function Ju(e,n){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=ki)}async function Pi(e,n){if(!navigator)throw ne.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ne.create("permission-blocked");return await Ju(e,n?.vapidKey),await Xu(e,n?.serviceWorkerRegistration),Mu(e)}async function Gu(e,n,s){const a=Yu(n);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[Ei],message_name:s[Su],message_time:s[Cu],message_device_time:Math.floor(Date.now()/1e3)})}function Yu(e){switch(e){case ot.NOTIFICATION_CLICKED:return"notification_open";case ot.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function Zu(e,n){const s=n.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===ot.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Hr(s)):e.onMessageHandler.next(Hr(s)));const a=s.data;Uu(a)&&a[Tu]==="1"&&await Gu(e,s.messageType,a)}const jr="@firebase/messaging",zr="0.12.23";const el=e=>{const n=new Wu(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>Zu(n,s)),n},tl=e=>{const n=e.getProvider("messaging").getImmediate();return{getToken:a=>Pi(n,a)}};function nl(){Me(new Ae("messaging",el,"PUBLIC")),Me(new Ae("messaging-internal",tl,"PRIVATE")),Ie(jr,zr),Ie(jr,zr,"esm2020")}async function rl(){try{await ti()}catch{return!1}return typeof window<"u"&&ei()&&wa()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function il(e,n){if(!navigator)throw ne.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}function sl(e=_c()){return rl().then(n=>{if(!n)throw ne.create("unsupported-browser")},n=>{throw ne.create("indexed-db-unsupported")}),$n(Bn(e),"messaging").getImmediate()}async function Fr(e,n){return e=Bn(e),Pi(e,n)}function ol(e,n){return e=Bn(e),il(e,n)}nl();const al={apiKey:"AIzaSyBY9luMHcyhWBwzx92gFHBmiYrVey_PhTI",authDomain:"crypt-talk-d6be2.firebaseapp.com",projectId:"crypt-talk-d6be2",storageBucket:"crypt-talk-d6be2.firebasestorage.app",messagingSenderId:"839179457213",appId:"1:839179457213:web:a90e0349882656b1db5dd4"},cl=ii(al),yn=sl(cl),ul=Kr("fcm",()=>{async function e(){if(Ln().token)try{if(await Notification.requestPermission()!=="granted"){console.log("Korisnik odbio notifikacije");return}const o=await Fr(yn,{vapidKey:"BD0xfft11xXQ6PaS_t4S--ph6ad3nRc0yfurIcMNa7RiwpJBDGWjswyxhgSF3Q-XVUGqFDK4sKZgj38sPMya0Ck"});o&&await kt.post("/fcm-token",{token:o,platform:"web"}),ol(yn,u=>{console.log("Poruka primljena dok je app otvorena:",u),new Notification(u.notification.title,{body:u.notification.body,icon:"/icons/favicon-128x128.png"})})}catch(a){console.error("FCM greka:",a)}}async function n(){try{const s=await Fr(yn,{vapidKey:"BD0xfft11xXQ6PaS_t4S--ph6ad3nRc0yfurIcMNa7RiwpJBDGWjswyxhgSF3Q-XVUGqFDK4sKZgj38sPMya0Ck"});s&&await kt.delete("/fcm-token",{data:{token:s}})}catch(s){console.error("Greka pri brisanju tokena:",s)}}return{init:e,removeToken:n}}),ll=["src"],dl={key:1},hl={class:"row items-center justify-between"},fl={class:"q-pa-md"},pl={key:0,class:"q-pa-md text-center"},gl=["src"],ml=["src"],vl=["src"],bl={key:2,class:"q-pa-xl text-center text-grey"},yl={class:"q-mt-md"},Al={__name:"MainLayout",setup(e){const n=Ln(),s=ca(),a=Qr(),o=Io(),u=ul(),d=X(null),m=X(!1),h=X(!1),f=A(()=>n.isAuthenticated),g=A(()=>n.getUser()),k=a.conversations,T=X(""),S=X([]),C=X([]),E=X(!1);let v=null;function b(P){if(v&&clearTimeout(v),!P||P.trim()===""){S.value=[],C.value=[],E.value=!1;return}E.value=!0,v=setTimeout(()=>y(P.trim()),300)}async function y(P){try{const D=await kt.post("/user/search",{search:P});S.value=D.data.users||[],C.value=D.data.conversations||[]}catch(D){console.error(" Search error:",D)}finally{E.value=!1}}async function L(P){try{const ie=(await kt.post("/conversation/start-conversation",{friend_id:P})).data.conversation_id;a.conversationsLoaded=!1,await a.fetchConversations(),T.value="",o.push(`/conversation/${ie}`)}catch(D){console.error(" Error starting conversation:",D)}}function x(P){o.push("/conversation/"+P)}function q(){d.value=!d.value}function F(P){gr.set(P),localStorage.setItem("dark-mode",P)}function W(){n.logout(),u.removeToken(),o.push("/")}function K(P){return P?.avatarPath?{type:"image",value:P.avatarPath}:{type:"initials",value:Y(P?.name)}}function Y(P){if(!P)return"U";const D=P.trim().split(" ");return D.length===1?D[0][0].toUpperCase():(D[0][0]+D[1][0]).toUpperCase()}return Qe(()=>{const P=localStorage.getItem("dark-mode");P!==null&&(gr.set(P==="true"),m.value=P==="true"),n.initAuth()}),U(()=>n.token,P=>{P&&a.fetchConversations()},{immediate:!0}),U(()=>n.user,P=>{P?(s.init(),u.init()):s.disconnect()},{immediate:!0}),(P,D)=>{const ie=Ao("router-view");return Re(n).initialized?(Q(),se(oa,{key:0,view:"lHh Lpr lFf"},{default:B(()=>[M(Jo,{elevated:""},{default:B(()=>[f.value?(Q(),se(Qo,{key:0},{default:B(()=>[M(mr,{flat:"",dense:"",round:"",icon:"menu",onClick:xo(q,["stop"])}),M(Vo,null,{default:B(()=>[...D[5]||(D[5]=[ae("Crypt Talk",-1)])]),_:1}),M(mr,{flat:"",round:"",dense:"",class:"q-ml-md"},{default:B(()=>[M(wt,{size:"32px",class:"q-mr-sm"},{default:B(()=>[K(g.value).type==="image"?(Q(),he("img",{key:0,src:K(g.value).value},null,8,ll)):(Q(),he("span",dl,ke(K(g.value).value),1))]),_:1}),Te("span",null,ke(g.value?.name),1),M(_t,{name:"arrow_drop_down",class:"q-ml-xs"})]),_:1}),M(zo,{modelValue:h.value,"onUpdate:modelValue":D[2]||(D[2]=N=>h.value=N),anchor:"bottom right",self:"top right"},{default:B(()=>[M(vr,{padding:""},{default:B(()=>[Le((Q(),se(We,{clickable:"",onClick:D[0]||(D[0]=N=>Re(o).push("/profile"))},{default:B(()=>[M(ce,null,{default:B(()=>[...D[6]||(D[6]=[ae("Profile",-1)])]),_:1})]),_:1})),[[Ue]]),M(Ct),Le((Q(),se(We,{clickable:""},{default:B(()=>[M(ce,null,{default:B(()=>[Te("div",hl,[D[7]||(D[7]=Te("span",null,"Theme",-1)),M(Fo,{modelValue:m.value,"onUpdate:modelValue":[D[1]||(D[1]=N=>m.value=N),F],label:"Dark Mode"},null,8,["modelValue"])])]),_:1})]),_:1})),[[Ue]]),M(Ct),Le((Q(),se(We,{clickable:"",onClick:W},{default:B(()=>[M(ce,{class:"text-negative"},{default:B(()=>[...D[8]||(D[8]=[ae("Logout",-1)])]),_:1})]),_:1})),[[Ue]])]),_:1})]),_:1},8,["modelValue"])]),_:1})):Ce("",!0)]),_:1}),f.value?(Q(),se(na,{key:0,modelValue:d.value,"onUpdate:modelValue":D[4]||(D[4]=N=>d.value=N),"show-if-above":"",bordered:""},{default:B(()=>[Te("div",fl,[M(Uo,{modelValue:T.value,"onUpdate:modelValue":[D[3]||(D[3]=N=>T.value=N),b],placeholder:"Pretrai...",outlined:"",dense:"",clearable:""},{prepend:B(()=>[M(_t,{name:"search"})]),_:1},8,["modelValue"])]),M(Ct),E.value?(Q(),he("div",pl,[M(Po,{color:"primary",size:"30px"})])):(Q(),se(vr,{key:1},{default:B(()=>[T.value?(Q(),he(Ve,{key:1},[C.value.length>0?(Q(),he(Ve,{key:0},[M(Ke,{header:"",class:"text-weight-bold"},{default:B(()=>[...D[9]||(D[9]=[ae("Active Conversations",-1)])]),_:1}),(Q(!0),he(Ve,null,nn(C.value,N=>Le((Q(),se(We,{key:"conv-"+N.id,clickable:"",onClick:_e=>x(N.id)},{default:B(()=>[M(ce,{avatar:""},{default:B(()=>[M(wt,{size:"40px"},{default:B(()=>[Te("img",{src:N.users[0]?.avatar_url},null,8,ml)]),_:2},1024)]),_:2},1024),M(ce,null,{default:B(()=>[M(Ke,null,{default:B(()=>[ae(ke(N.title||N.users[0]?.name),1)]),_:2},1024),N.type==="group"?(Q(),se(Ke,{key:0,caption:""},{default:B(()=>[...D[10]||(D[10]=[ae("Group Chat",-1)])]),_:1})):Ce("",!0)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ue]])),128)),M(Ct,{class:"q-my-sm"})],64)):Ce("",!0),S.value.length>0?(Q(),he(Ve,{key:1},[M(Ke,{header:"",class:"text-weight-bold"},{default:B(()=>[...D[11]||(D[11]=[ae("Other Users",-1)])]),_:1}),(Q(!0),he(Ve,null,nn(S.value,N=>Le((Q(),se(We,{key:"user-"+N.id,clickable:"",onClick:_e=>L(N.id)},{default:B(()=>[M(ce,{avatar:""},{default:B(()=>[M(wt,{size:"40px"},{default:B(()=>[Te("img",{src:N.avatar_url},null,8,vl)]),_:2},1024)]),_:2},1024),M(ce,null,{default:B(()=>[M(Ke,null,{default:B(()=>[ae(ke(N.name),1)]),_:2},1024),M(Ke,{caption:""},{default:B(()=>[ae(ke(N.email),1)]),_:2},1024)]),_:2},1024),M(ce,{side:""},{default:B(()=>[M(_t,{name:"person_add",color:"primary"})]),_:1})]),_:2},1032,["onClick"])),[[Ue]])),128))],64)):Ce("",!0),C.value.length===0&&S.value.length===0?(Q(),he("div",bl,[M(_t,{name:"sentiment_dissatisfied",size:"48px"}),Te("div",yl,'No results found for "'+ke(T.value)+'"',1)])):Ce("",!0)],64)):(Q(!0),he(Ve,{key:0},nn(Re(k).ids,N=>Le((Q(),se(We,{key:N,clickable:"",onClick:_e=>x(N)},{default:B(()=>[M(ce,{avatar:""},{default:B(()=>[M(wt,{size:"40px"},{default:B(()=>[Te("img",{src:Re(k).entities[N].participants[0]?.avatar_url||"images/avatar/default.png"},null,8,gl)]),_:2},1024)]),_:2},1024),M(ce,null,{default:B(()=>[ae(ke(Re(k).entities[N].participantsNames.display),1)]),_:2},1024),Re(k).entities[N].unreadCount>0?(Q(),se(ce,{key:0,side:""},{default:B(()=>[M(Yo,{color:"green",rounded:""},{default:B(()=>[ae(ke(Re(k).entities[N].unreadCount),1)]),_:2},1024)]),_:2},1024)):Ce("",!0)]),_:2},1032,["onClick"])),[[Ue]])),128))]),_:1}))]),_:1},8,["modelValue"])):Ce("",!0),M(ra,null,{default:B(()=>[M(ie)]),_:1})]),_:1})):Ce("",!0)}}};export{Al as default};
